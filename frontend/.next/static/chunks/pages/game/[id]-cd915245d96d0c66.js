(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{9787:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[id]",function(){return a(1731)}])},1576:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(5893),r=a(2445),o=a(1485);let i=(0,o.k)((e,t)=>{let{shadow:a,borderRadius:n}=t;return{cardContainer:{boxShadow:"0px 3px ".concat(a,"px rgba(0, 0, 0, 0.2)"),borderRadius:n,margin:"0"}}});var s=function(e){let{children:t,shadow:a=10,borderRadius:o=15,className:s,...c}=e,{classes:l,cx:d}=i({shadow:a,borderRadius:o});return(0,n.jsx)(r.W,{className:d(l.cardContainer,s),...c,children:t})}},7832:function(e,t,a){"use strict";a.d(t,{Z:function(){return Z}});var n=a(5893),r=a(3259),o=a(9834),i=a(1232),s=a(7564),c=a(5117),l=a(4980),d=a(1995),m=a(7339),h=a(904),x=a(7283),u=a(1485);let p=(0,u.k)(e=>({photoButton:{color:"black",borderRadius:"0.25rem 0 0 0.25rem",border:"1px solid ".concat(e.colors.gray[4]),borderRight:"none","&:hover":{backgroundColor:e.colors.gray[0]},"&:active":{transform:"none !important"}}}));var g=a(8701),j=a(2167),f=a(8233),v=a(7294),w=a(6154);async function b(e){let t=new FormData;t.append("image",e);let{data:a}=await w.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/upload/image"),t,{headers:{"Content-Type":"multipart/form-data"}});return a}var k=a(1759),y=a(753),Z=function(e){let{editor:t}=e,{classes:a}=p(),[u,w]=(0,v.useState)(!1),[Z,{toggle:C,close:z}]=(0,k.q)(),N=(0,y.O)(()=>z());return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.L.ControlsGroup,{children:[(0,n.jsx)(l.L.Bold,{}),(0,n.jsx)(l.L.Italic,{}),(0,n.jsx)(l.L.Underline,{}),(0,n.jsx)(l.L.Strikethrough,{}),(0,n.jsx)(l.L.Code,{}),(0,n.jsx)(l.L.CodeBlock,{icon:()=>(0,n.jsx)(d.Z,{size:16,stroke:2})})]}),(0,n.jsxs)(l.L.ControlsGroup,{children:[(0,n.jsx)(l.L.Hr,{}),(0,n.jsx)(l.L.Subscript,{}),(0,n.jsx)(l.L.Superscript,{})]}),(0,n.jsxs)(l.L.ControlsGroup,{ref:N,children:[(0,n.jsxs)(r.J,{width:600,position:"bottom",withArrow:!0,shadow:"md",opened:Z,children:[(0,n.jsx)(r.J.Target,{children:(0,n.jsx)(o.A,{variant:"outline",className:a.photoButton,size:26,onClick:C,children:(0,n.jsx)(m.Z,{size:16,stroke:1})})}),(0,n.jsx)(r.J.Dropdown,{children:(0,n.jsx)(g.fh,{onDrop:async e=>{w(!0);let a=e.map(e=>b(e).catch(t=>((0,f.x2)("".concat(e.name," 업로드중 문제가 발생했습니다."),"잠시 후 다시 시도해주세요."),Promise.resolve(null)))),n=await Promise.all(a),r=n.filter(e=>null!==e).map(e=>{let{data:{url:t}}=e;return t});w(!1);let{state:o}=t.view,{tr:i}=o,s=o.selection.to;r.reverse().forEach((e,t)=>{console.log(e);let a=o.schema.nodes.image.create({src:e});i.insert(s+t,a)}),null==t||t.view.dispatch(i),null==t||t.view.focus(),z()},onReject:()=>{(0,f.x2)("이미지 형식이 올바르지 않습니다.","5MB, 10개 이하의 올바른 이미지 파일을 첨부해주세요.")},maxSize:5242880,accept:j.d1,loading:u,maxFiles:10,children:(0,n.jsxs)(i.Z,{position:"center",spacing:"xl",children:[(0,n.jsx)(g.fh.Accept,{children:(0,n.jsx)(h.Z,{size:"3.2rem",stroke:1.5})}),(0,n.jsx)(g.fh.Reject,{children:(0,n.jsx)(x.Z,{size:"3.2rem",stroke:1.5})}),(0,n.jsx)(g.fh.Idle,{children:(0,n.jsx)(m.Z,{size:"3.2rem",stroke:1.5})}),(0,n.jsxs)(s.K,{spacing:5,align:"center",children:[(0,n.jsx)(c.x,{size:"xl",inline:!0,children:"클릭하거나 파일을 드래그하여 업로드"}),(0,n.jsx)(c.x,{size:"sm",color:"dimmed",inline:!0,mt:7,children:"파일을 여러 개 첨부할 수 있습니다 (최대 10개). 각 파일의 크기는 5MB를 초과할 수 없습니다."})]})]})})})]}),(0,n.jsx)(l.L.Link,{}),(0,n.jsx)(l.L.Unlink,{})]})]})}},4588:function(e,t,a){"use strict";a.d(t,{w:function(){return l}});var n=a(5893),r=a(7294),o=a(7841),i=a(3941),s=a(1485);let c=(0,s.k)(e=>({button:{position:"relative",transition:"background-color 150ms ease",width:120},progress:{...e.fn.cover(-1),height:"auto",backgroundColor:"transparent",zIndex:0},label:{position:"relative",zIndex:1,fontWeight:"normal"}}));function l(e){let{CloseModal:t,text:a,...s}=e,{classes:l,theme:d}=c(),[m,h]=(0,r.useState)(0),[x,u]=(0,r.useState)(!1);return(0,n.jsxs)(o.z,{className:l.button,color:x?"teal":d.primaryColor,...s,children:[(0,n.jsx)("div",{className:l.label,children:a}),0!==m&&(0,n.jsx)(i.E,{value:m,color:d.fn.rgba(d.colors[d.primaryColor][2],.35),radius:"sm"})]})}},3777:function(e,t,a){"use strict";a.d(t,{Z:function(){return w}});var n=a(5893),r=a(7310),o=a(4980),i=a(1284),s=a(601),c=a(4991),l=a(8510),d=a(1705),m=a(8151),h=a(7832),x=a(1485);let u=(0,x.k)(e=>({editor:{minHeight:300}}));var p=a(6761),g=a(7294),j=a(2608),f=a(1083);let v=(0,g.forwardRef)((e,t)=>{let{content:a}=e,x=(0,i.jE)({extensions:[c.Z,l.Z,r.r,d.Z,m.Z,s.ZP,j.Z.configure({lowlight:f.$}),p.ZP],content:a}),{classes:v}=u();return(0,g.useImperativeHandle)(t,()=>({getHTML:()=>null==x?void 0:x.getHTML()})),(0,n.jsxs)(o.L,{editor:x,className:v.editor,children:[(0,n.jsx)(o.L.Toolbar,{sticky:!0,children:(0,n.jsx)(h.Z,{editor:x})}),(0,n.jsx)(o.L.Content,{})]})});var w=v},1822:function(e,t,a){"use strict";a.d(t,{u:function(){return n}});let n=[{src:"https://cdn.class101.net/images/171f6948-4553-4cd4-9fcd-98f9dd61c547/1200x630",href:"https://mantine.dev",avatar:"https://cdn.class101.net/images/171f6948-4553-4cd4-9fcd-98f9dd61c547/1200x630",gameName:"해바라기 소녀",gameExplain:'"해바라기 소녀"는 사랑스러운 비주얼 노벨 게임으로, 일상의 빛을 찾는 여행에 초대합니다. 이야기는 자신을 해바라기에 빗대는 밝고 낙천적인 소녀, 지연의 삶을 중심으로 펼쳐집니다. 그녀의 일상과 꿈, 그리고 그녀가 마주하는 다양한 인물들의 이야기를 경험하게 될 것입니다.'},{src:"https://i3.ruliweb.com/img/22/10/01/18393ee297a1734b9.jpeg",href:"https://mantine.dev",avatar:"https://i3.ruliweb.com/img/22/10/01/18393ee297a1734b9.jpeg",gameName:"나히다",gameExplain:'"나히다"는 고요한 마을의 신비를 탐색하는 감각적인 비주얼 노벨 게임입니다. 귀엽고 아름다운 그래픽과 중독성 있는 스토리텔링은 당신을...'}]},8518:function(e,t,a){"use strict";a.d(t,{m:function(){return Z}});var n=a(5893),r=a(7294),o=a(1220),i=a(7564),s=a(1232),c=a(9985),l=a(5117),d=a(7414),m=a(2445),h=a(2870),x=a(8528),u=a(4065),p=a(4472),g=a(1411),j=a(8553),f=a.n(j),v=a(1822),w=a(1209),b=a(3865),k=a(1485);let y=(0,k.k)(e=>({backgroundImage:{display:"flex",alignItems:"center",textDecoration:"none","&:hover":{textDecoration:"none"}},imageContainer:{width:"100%",height:"100%",padding:0,borderRadius:"1rem",backgroundColor:e.colors.gray[2]},image:{height:"100%",".mantine-Image-imageWrapper, .mantine-Image-figure, .mantine-Image-image":{height:"100%"}},gameIntro:{marginLeft:"7rem",marginBottom:"3.5rem",gap:"2rem",[e.fn.smallerThan(820)]:{marginLeft:"4.6rem",marginBottom:"2.7rem",gap:"1.3rem"},[e.fn.smallerThan(540)]:{marginLeft:"2.3rem",marginBottom:"0.65rem",gap:"0.65rem"}},gameAvatar:{minWidth:"3rem",width:"3rem",height:"3rem",[e.fn.smallerThan(820)]:{minWidth:"2rem",width:"2rem",height:"2rem"},[e.fn.smallerThan(540)]:{minWidth:"1rem",width:"1rem",height:"1rem"}},gameName:{fontSize:"1.8rem",[e.fn.smallerThan(820)]:{fontSize:"1.2rem"},[e.fn.smallerThan(540)]:{fontSize:"0.6rem"}},gameExplain:{width:"37rem",fontSize:"1.3rem",lineHeight:1.5,color:"white",[e.fn.smallerThan(820)]:{width:"24.6rem",fontSize:"0.86rem"},[e.fn.smallerThan(540)]:{width:"12.3rem",fontSize:"0.43rem"}},carousel:{width:"100%",height:"100%",".mantine-Carousel-root, .mantine-Carousel-container, .mantine-Carousel-viewport":{height:"100%"},".mantine-Carousel-control":{backgroundColor:"transparent",border:"none",boxShadow:"none"},".mantine-Carousel-indicator":{width:"2rem",height:"0.4rem",transition:"width 250ms ease","&[data-active]":{width:"3rem",backgroundColor:e.colors.blue[3]}},[e.fn.smallerThan(820)]:{".mantine-Carousel-indicators":{gap:"0.3rem"},".mantine-Carousel-indicator":{width:"1.3rem",height:"0.26rem","&[data-active]":{width:"2rem"}}},[e.fn.smallerThan(540)]:{".mantine-Carousel-indicators":{gap:"0.15rem"},".mantine-Carousel-indicator":{width:"0.65rem",height:"0.13rem","&[data-active]":{width:"1rem"}}}}}));function Z(e){let{isMain:t,isInfo:a,imgUrls:j}=e,{classes:k,cx:Z}=y(),[C,z]=(0,r.useState)(null);(0,p.D)(C,200);let N=(0,r.useRef)(f()({delay:4e3})),[I]=(0,x.n)((null==j?void 0:j.map(e=>({src:e})))||v.u),T=(0,u.a)("(max-width: 820px)"),S=(0,u.a)("(max-width: 540px)"),B=I.map(e=>(0,n.jsxs)(g.l.Slide,{children:[t&&(0,n.jsx)(o.X,{className:k.backgroundImage,component:"a",href:e.href,src:e.src,h:"100%",children:(0,n.jsxs)(i.K,{className:k.gameIntro,children:[(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(c.q,{className:k.gameAvatar,radius:"20%",src:e.src}),(0,n.jsx)(l.x,{className:k.gameName,color:"#fff",children:e.gameName})]}),(0,n.jsx)(d.x,{className:k.gameExplain,children:function(e){if(!e)return"";if(e.length<=75)return e;let t=e.slice(0,75);return e.length>150&&(t+="..."),t}(e.gameExplain)})]})}),a&&(0,n.jsx)(m.W,{className:k.imageContainer,children:(0,n.jsx)(h.E,{className:k.image,width:"100%",height:"100%",radius:"lg",fit:"contain",src:e.src})})]}));return(0,n.jsx)(g.l,{className:k.carousel,slideSize:"100%",slideGap:"md",loop:!0,draggable:!1,withIndicators:!0,previousControlIcon:(0,n.jsx)(w.Z,{color:"white",size:S?"1rem":T?"2rem":"3rem"}),nextControlIcon:(0,n.jsx)(b.Z,{color:"white",size:S?"1rem":T?"2rem":"3rem"}),getEmblaApi:z,plugins:[N.current],onMouseEnter:N.current.stop,onMouseLeave:N.current.reset,children:B})}},7466:function(e,t,a){"use strict";a.d(t,{$m:function(){return x},WD:function(){return r},XF:function(){return j},aq:function(){return g}});var n=a(9058);let r=["개발","디자인","공모전","음악","퍼블리싱","인터페이스","창업","입문"],o=[{label:"자료",checked:!0,key:(0,n.k)()},{label:"정보",checked:!0,key:(0,n.k)()},{label:"질문",checked:!0,key:(0,n.k)()},{label:"개발일지",checked:!0,key:(0,n.k)()},{label:"홍보",checked:!0,key:(0,n.k)()}],i=[{label:"캐릭터",checked:!0,key:(0,n.k)()},{label:"적",checked:!0,key:(0,n.k)()},{label:"배경",checked:!0,key:(0,n.k)()}],s=[{label:"Unity 공모전",checked:!0,key:(0,n.k)()},{label:"C# 공모전",checked:!0,key:(0,n.k)()},{label:"Python 공모전",checked:!0,key:(0,n.k)()}],c=[{label:"배경 음악",checked:!0,key:(0,n.k)()},{label:"효과음",checked:!0,key:(0,n.k)()}],l=[{label:"퍼블리싱",checked:!0,key:(0,n.k)()}],d=[{label:"게임 시작",checked:!0,key:(0,n.k)()},{label:"설정",checked:!0,key:(0,n.k)()}],m=[{label:"팀원 모집",checked:!0,key:(0,n.k)()},{label:"자금",checked:!0,key:(0,n.k)()}],h=[{label:"유니티 입문",checked:!0,key:(0,n.k)()},{label:"언리얼 입문",checked:!0,key:(0,n.k)()}],x=[o,i,s,c,l,d,m,h],u=r.length,p=x.length,g=u==p?u:u>p?p:u,j=["공지사항","업데이트","개발일지","리뷰","공략","뻘글"]},3395:function(e,t,a){"use strict";var n=a(5591),r=a(8823),o=a(7967);t.Z=function(e){let{token:t}=(0,r.Z)(),a="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e),i=(0,n.ZP)(a,e=>(0,o._)(e,t));return i}},36:function(e,t,a){"use strict";var n=a(4593),r=a(7334),o=a(7967),i=a(8823);let s=(e,t,a,n,o)=>{let{search:i,parentId:s,boardType:c}=o;if(t&&null===t.data.cursor.afterCursor)return null;let l={categoryNames:n.length>0?n.join(","):null};i&&(l.q=i),c&&(l.boardType=c),e>0&&(l.afterCursor=null==t?void 0:t.data.cursor.afterCursor);let d=(0,r.stringify)(l);return i?"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/board/search?").concat(d):s?"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/board/getChild/").concat(s,"?").concat(d):"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/board?").concat(d)};t.Z=function(e,t){var a,r,c,l,d;let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{token:h}=(0,i.Z)(),x=(0,n.ZP)((a,n)=>s(a,n,t,e,m),e=>(0,o._)(e,h)),u=(null===(a=null===(r=x.data)||void 0===r?void 0:null===(c=r[x.data.length-1])||void 0===c?void 0:c.data.cursor)||void 0===a?void 0:a.afterCursor)===null,p=(null===(l=x.data)||void 0===l?void 0:null===(d=l[0])||void 0===d?void 0:d.data.data.length)===0;return{...x,isLast:u,isEmpty:p}}},2464:function(e,t,a){"use strict";a.d(t,{e:function(){return i}});var n=a(5591),r=a(7967),o=a(8823);function i(){let{user:e,token:t}=(0,o.Z)(),a="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/users/").concat(null==e?void 0:e.id),i=(0,n.ZP)(a,e=>(0,r._)(e,t));return i}},1731:function(e,t,a){"use strict";a.r(t),a.d(t,{GameContext:function(){return tP},GameTabClickContext:function(){return t_},default:function(){return tK}});var n=a(5893),r=a(1163),o=a(8518),i=a(4065),s=a(1485);let c=(0,s.k)(e=>({container:{display:"flex",flexWrap:"wrap",width:"100%"},topContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%",height:"auto",padding:40,paddingTop:60,gap:20},PhotoContainer:{position:"relative",margin:0,aspectRatio:"8 / 5",width:800},summaryContainer:{margin:0,width:430,height:500,flexGrow:1},tabBottomContainer:{position:"relative",width:"100%",height:"100%"},anchor:{position:"absolute",top:"-4.313rem"},tabContainer:{position:"sticky",top:"4.313rem",width:"100%",height:"3rem",zIndex:50},bottomContainer:{display:"flex",flexWrap:"nowrap",width:"100%",height:"100%",padding:40,gap:40},mainContainer_B:{flexGrow:1,flexShrink:0,width:700,margin:0},rightContainer_B:{position:"sticky",top:"9.75rem",flexShrink:0,width:"25rem",height:"37rem",margin:0},mainContainer_S:{flexGrow:1,margin:0},rightContainer_S:{display:"none"}}));var l=function(e){let{photoSection:t,summarySection:a,anchorSection:r,tabSection:o,children:s,rightSection:l}=e,{classes:d,cx:m}=c(),h=(0,i.a)("(max-width: 780px)");return(0,n.jsxs)("div",{className:d.container,children:[(0,n.jsxs)("div",{className:d.topContainer,children:[(0,n.jsx)("div",{className:d.PhotoContainer,children:t}),(0,n.jsx)("div",{className:d.summaryContainer,children:a})]}),(0,n.jsxs)("div",{className:d.tabBottomContainer,children:[(0,n.jsx)("div",{className:d.anchor,children:r}),(0,n.jsx)("div",{className:d.tabContainer,children:o}),(0,n.jsxs)("div",{className:d.bottomContainer,children:[(0,n.jsx)("div",{className:m(h?d.mainContainer_S:d.mainContainer_B),children:s}),(0,n.jsx)("div",{className:m(h?d.rightContainer_S:d.rightContainer_B),children:l})]})]})]})},d=a(7414),m=a(3951),h=a(7564),x=a(1232),u=a(9985),p=a(5117),g=a(2870),j=a(7789),f=a(4777),v=a(7841),w=a(3523),b=a(1759);let k=(0,s.k)(e=>({modal:{display:"flex",width:"21.875rem",".mantine-Modal-title":{marginLeft:"0.1rem",fontSize:"1.2rem"}},stack:{cursor:"default"},heartFilled:{marginRight:"0.2rem"},alignTop:{alignItems:"flex-start"},alignBottom:{alignItems:"flex-end"},grayText:{marginLeft:"0.5rem",color:e.colors.gray[6]},blueText:{position:"absolute",marginLeft:"6.5rem",color:e.colors.teal[4],textDecoration:"underLine","&:hover":{color:e.colors.teal[4],textDecoration:"underLine"}},followBadge:{width:"6rem",height:"2rem",padding:"0rem 0.3rem",".mantine-Badge-leftSection":{marginRight:"0.7rem"}},tagGroup:{maxHeight:"4.3rem",overflow:"hidden"},tagBox:{position:"relative",display:"flex",flexWrap:"wrap",justifyContent:"space-between",height:"4.3rem",margin:"0rem 0.1875rem",padding:0,backgroundColor:"#fcfcfe","&::after":{content:'""',flexGrow:100,height:"1.988rem"}},tag:{display:"flex",flexGrow:1,height:"1.8rem",margin:"0.1875rem 0.3125rem",paddingLeft:"0.5rem",paddingRight:"0.75rem",borderRadius:"0.25rem",justifyContent:"center",alignItems:"center",backgroundColor:e.colors.teal[1],color:e.colors.teal[6],fontSize:12,fontWeight:"bold"},addButton:{display:"flex",height:"1.8rem",margin:"0.1875rem 0.3125rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",justifyContent:"center",alignItems:"center",backgroundColor:e.colors.teal[1],color:e.colors.teal[6],fontSize:16,"&:hover":{backgroundColor:e.colors.teal[2]}},addButton_A:{position:"absolute",top:"2.175rem",right:"0rem",boxShadow:"-7px 0px 4px #fcfcfe"},marginTop:{marginTop:"0.44rem"},marginBottom:{marginBottom:"0.44rem"},marginLeft:{marginLeft:"0.5rem",marginRight:"0.5rem"},sellButton:{width:"8rem",height:"4.7rem",backgroundColor:e.colors.teal[4],flexGrow:1,"&:hover":{backgroundColor:e.colors.teal[5]}},passButton:{width:"7rem",height:"4.7rem"}}));var y=a(434),Z=a(5938),C=a(7294),z=a(263),N=a(61);let I=(0,s.k)(e=>({multiSelectBox:{width:"100%",height:"18.75rem",padding:"0.5rem",border:"1px solid ".concat(e.colors.gray[4]),borderRadius:e.radius.sm,overflow:"hidden"},searchGroup:{display:"flex",margin:"0rem 0.3125rem",gap:"0.5rem"},search:{flexGrow:1,border:"0.0625rem solid ".concat(e.colors.gray[4]),borderRadius:e.radius.sm,".mantine-TextInput-input":{backgroundColor:"transparent",border:"none"}},tagBox:{display:"flex",flexWrap:"wrap",width:"100%",height:"100%",padding:0,margin:0,alignContent:"flex-start","&::after":{content:'""',flexGrow:100,height:"1.988rem"}},selectedGroup:{alignItems:"flex-end"},selectedBox:{display:"flex",flexWrap:"wrap",width:"20rem",minHeight:"2.5rem",maxHeight:"4.7rem",padding:"0.1rem 0.5rem",border:"1px solid ".concat(e.colors.gray[4]),borderRadius:e.radius.sm,flexGrow:1,overflow:"hidden",alignContent:"flex-start","&::after":{content:'""',flexGrow:100,height:"1.988rem"}},selectedTag:{display:"flex",flexGrow:1,height:"1.8rem",margin:"0.1875rem 0.3125rem",paddingLeft:"0.5rem",paddingRight:"0.3rem",borderRadius:"0.25rem",justifyContent:"center",alignItems:"center",backgroundColor:e.colors.blue[1],color:e.colors.blue[6],fontSize:12,fontWeight:"bold"},tagButton:{display:"flex",flexGrow:1,height:"1.8rem",margin:"0.1875rem 0.3125rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",justifyContent:"center",alignItems:"center",border:"1px solid ".concat(e.colors.gray[4]),backgroundColor:"white",color:e.colors.gray[6],fontSize:12,"&:hover":{backgroundColor:e.colors.gray[2]}},tagButtonChecked:{border:"1px solid ".concat(e.colors.blue[1]," !important"),backgroundColor:e.colors.blue[1],color:e.colors.blue[6],fontSize:12,"&:hover":{border:"1px solid ".concat(e.colors.blue[2]),backgroundColor:e.colors.blue[2]}}}));var T=a(5909),S=a(7283),B=a(9153),L=a(8233),R=a(5591),P=a(8823),_=a(7967),K=a(6154);async function G(e,t,a){let{data:n}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/tag"),t,{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}});return n}async function H(e,t,a){try{await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/tag/").concat(t),{headers:{"Content-Type":"application/json",Authorization:a}})}catch(e){console.error(e)}}function A(e){let{onClose:t,gameId:a}=e,{classes:r,cx:o}=I(),i=(0,z.rZ)(),{token:s}=(0,P.Z)(),{mutatePost:c}=(0,C.useContext)(tP),{data:l}=function(e){let{token:t}=(0,P.Z)(),a="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/tag"),n=(0,R.ZP)(a,e=>(0,_._)(e,t));return n}(a),m=l?l.data.map(e=>e.tag.name):[],[u,p]=(0,C.useState)([...m]);(0,C.useEffect)(()=>{p([...m])},[l]);let g=(0,C.useRef)(null),[j,f]=(0,C.useState)(""),{data:w}=function(e){let{token:t}=(0,P.Z)(),a="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/tag/search?q=").concat(e),n=(0,R.ZP)(a,e=>(0,_._)(e,t));return n}(j),b=(0,T.P)(),k=null==w?void 0:w.data.map(e=>{let t=null==u?void 0:u.includes(e.name);return(0,n.jsx)(v.z,{className:o(r.tagButton,t&&r.tagButtonChecked),onClick:()=>{if(t||u.length<5){let a=[...u];t?u.forEach((t,n)=>{e.name===t&&(a.splice(n,1),p(a))}):(a.push(e.name),p(a)),(0,L.fd)()}else(0,L.x2)("태그는 5개까지 추가할 수 있습니다.",null)},children:e.name})}),y=u.map(e=>(0,n.jsx)(d.x,{className:r.selectedTag,children:(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[e,(0,n.jsx)(Z.Z,{onClick:()=>{let t=[...u];u.forEach((a,n)=>{e===a&&(t.splice(n,1),p(t))}),(0,L.fd)()},children:(0,n.jsx)(S.Z,{stroke:2,size:"0.8rem",color:i.colors.blue[6]})})]})}));return(0,n.jsxs)(h.K,{spacing:"sm",children:[(0,n.jsx)(d.x,{className:r.multiSelectBox,children:(0,n.jsxs)(h.K,{spacing:"0.4rem",children:[(0,n.jsxs)(x.Z,{className:r.searchGroup,ref:b,children:[(0,n.jsx)(B.Z,{stroke:2,size:"1.2rem",color:i.colors.gray[6]}),(0,n.jsx)(N.o,{className:r.search,placeholder:"원하는 태그를 검색해서 추가해보세요.","data-autofocus":!0,ref:g,onKeyDown:e=>{var t;"Enter"===e.key?f(g.current?g.current.value:""):(null===(t=g.current)||void 0===t?void 0:t.value)===""&&f("")},rightSection:(0,n.jsx)(Z.Z,{onClick:()=>{f("")},children:(0,n.jsx)(S.Z,{stroke:1.5,size:"1rem",color:i.colors.gray[5]})})})]}),(0,n.jsx)(d.x,{className:r.tagBox,children:k})]})}),(0,n.jsxs)(x.Z,{spacing:"xs",className:r.selectedGroup,children:[(0,n.jsx)(d.x,{className:r.selectedBox,children:y}),(0,n.jsx)(v.z,{variant:"light",color:"cyan",h:"2.5rem",onClick:async()=>{let e=[];l&&l.data.forEach(t=>{if(!u.includes(t.tag.name)){let n=H(a,t.id,s);e.push(n),console.log("delete ".concat(t.tag.name))}}),u.forEach(t=>{if(!m.includes(t)){let n=G(a,{tagName:t},s);e.push(n),console.log("post ".concat(t))}});try{await Promise.all(e),c(),t&&t()}catch(e){console.error("Error in processing requests:",e)}},children:"추가"})]})]})}async function E(e,t){let{data:a}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/like"),{},{headers:{"Content-Type":"application/json",Authorization:"".concat(t)}});return a}async function M(e,t){let{data:a}=await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/like"),{headers:{"Content-Type":"application/json",Authorization:"".concat(t)}});return a}var D=a(2464),F=a(966),W=a(1576);let q=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{all:{cursor:"default"},reviewSection:{width:"100%",height:"100%",padding:"2rem 1rem"},myReviewGroup:{display:"flex",alignItems:"flex-start",flexWrap:"nowrap",marginLeft:"1rem",marginRight:"1rem"},reviewEditorBox:{flexGrow:1,width:"100%"},reviewNo:{width:"100%",".mantine-TextInput-root, .mantine-TextInput-wrapper, .mantine-TextInput-input":{height:a?30:46},".mantine-TextInput-input":{"::placeholder":{fontSize:a?"0.8rem":"auto"}}},loader:{display:"flex",width:"100%",justifyContent:"center"}}}),U=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{group:{display:"flex",flexWrap:"nowrap",alignItems:"flex-end"},editor:{flexGrow:1,cursor:"text",".mantine-RichTextEditor-content":{fontSize:a?e.fontSizes.xs:e.fontSizes.sm}},sendIcon:{marginBottom:a?"0.3rem":"0.5rem"}}});var X=a(3461);async function V(e){let{gameId:t,data:a,token:n}=e,r="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(t,"/review");try{let e=await K.Z.patch(r,a,{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}});return e.data}catch(e){throw e}}async function O(e,t,a){let{data:n}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(t,"/review"),e,{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}});return n}async function Y(e,t,a,n){let{data:r}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(t,"/review/").concat(a,"/comment"),e,{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}});return r}var J=a(4397),Q=a(2840),$=a(1003);let ee=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{stack:{margin:"1rem 1rem"},reviewTypo:{lineHeight:1.2},spoiler:{".mantine-Spoiler-control":{marginTop:"0.5rem",color:e.colors.gray[4],"&:hover":{textDecoration:"none"}}},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}},viewMoreButton:{paddingTop:"0.3rem"},button:{"&:hover":{backgroundColor:e.colors.gray[1]},".mantine-Button-inner":{fontWeight:"normal"}},buttonPadding:{padding:"0rem 0.5rem"},marginLeft:{marginLeft:a?"2.9rem":"4rem"},myReviewGroup:{display:"flex",alignItems:"flex-start",flexWrap:"nowrap",margin:"1rem 0rem",marginLeft:"0.5rem"},reviewEditorBox:{flexGrow:1,width:"100%"},reviewNo:{width:"100%",".mantine-TextInput-root, .mantine-TextInput-wrapper, .mantine-TextInput-input":{height:a?30:46},".mantine-TextInput-input":{"::placeholder":{fontSize:a?"0.8rem":"auto"}}},loader:{display:"flex",width:"100%",justifyContent:"center"}}});var et=a(297),ea=a(5500),en=a(3184),er=a(4455),eo=a(7726),ei=a(6991),es=a(4736);let ec=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{stack:{margin:"1rem 0rem",marginLeft:"0.5rem"},reviewTypo:{lineHeight:1.2},spoiler:{".mantine-Spoiler-control":{marginTop:"0.5rem",color:e.colors.gray[4],"&:hover":{textDecoration:"none"}}},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}},button:{"&:hover":{backgroundColor:e.colors.gray[1]},".mantine-Button-inner":{fontWeight:"normal"}},buttonPadding:{padding:"0rem 0.5rem"},dotButton:{height:25,borderRadius:5,"&:hover":{backgroundColor:e.colors.gray[1]}},menuItem:{padding:5},marginLeft:{marginLeft:a?"2.9rem":"4rem"}}});var el=a(2158),ed=a(471),em=a(4075),eh=a(9801),ex=a(4906);let eu=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{stack:{marginTop:"0.2rem",marginBottom:"1rem"},reviewTypo:{lineHeight:1.2},spoiler:{".mantine-Spoiler-control":{marginTop:"0.5rem",color:e.colors.gray[4],"&:hover":{textDecoration:"none"}}},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}},viewMoreButton:{paddingTop:"0.3rem"},button:{"&:hover":{backgroundColor:e.colors.gray[1]},".mantine-Button-inner":{fontWeight:"normal"}},buttonPadding:{padding:"0rem 0.5rem"},dotButton:{height:25,borderRadius:5,"&:hover":{backgroundColor:e.colors.gray[1]}},menuItem:{padding:5},myReviewGroup:{display:"flex",alignItems:"flex-start",flexWrap:"nowrap",margin:"1rem 0rem",marginLeft:"0.5rem"},reviewEditorBox:{flexGrow:1,width:"100%"},reviewNo:{width:"100%",".mantine-TextInput-root, .mantine-TextInput-wrapper, .mantine-TextInput-input":{height:a?30:46},".mantine-TextInput-input":{"::placeholder":{fontSize:a?"0.8rem":"auto"}}},loader:{display:"flex",width:"100%",justifyContent:"center"}}});async function ep(e,t,a){try{await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t),{headers:{"Content-Type":"application/json",Authorization:a}})}catch(e){console.error(e)}}async function eg(e,t,a){let{data:n}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/like"),{},{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}});return n}async function ej(e,t,a){let{data:n}=await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/like"),{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}});return n}async function ef(e,t,a){let{data:n}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/dislike"),{},{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}});return n}async function ev(e,t,a){let{data:n}=await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/dislike"),{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}});return n}var ew=a(4593),eb=a(7334);let ek=(e,t,a,n)=>{if(t&&null===t.data.cursor.afterCursor)return null;let r="";return(r=0===e?"":(0,eb.stringify)({afterCursor:null==t?void 0:t.data.cursor.afterCursor}),void 0===n)?""==r?"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/review"):"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/review?").concat(r):""==r?"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/review/").concat(n,"/comment"):"".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(a,"/review/").concat(n,"/comment?").concat(r)};function ey(e){var t,a,n,r,o,i,s;let{gameId:c,reviewId:l}=e,{token:d}=(0,P.Z)(),m=(0,ew.ZP)((e,t)=>ek(e,t,c,l),e=>(0,_._)(e,d)),h=(null===(t=null===(a=m.data)||void 0===a?void 0:null===(n=a[m.data.length-1])||void 0===n?void 0:n.data.cursor)||void 0===t?void 0:t.afterCursor)===null,x=(null===(r=m.data)||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.length)===0;return{...m,isLast:h,isEmpty:x}}let eZ=(0,C.createContext)({mutategameReviewMineComment:()=>{}});function eC(e){let{gameId:t,data:a}=e,r=(0,i.a)("(max-width: 765px)"),{classes:o,cx:s}=eu({smallScreen:r}),c=(0,z.rZ)(),{user:l,token:m}=(0,P.Z)(),{data:g,setSize:j,isLoading:w,mutate:k}=ey({gameId:t,reviewId:a.id}),{mutateGameReview:y,mutateGameReviewMine:Z}=(0,C.useContext)(ti),[I,T]=(0,C.useState)(!1),[S,{toggle:B}]=(0,b.q)(!1),{data:R}=(0,D.e)(),_=void 0!==R&&to(R.data.playtimes,t);return(0,n.jsxs)(eZ.Provider,{value:{mutategameReviewMineComment:k},children:[!I&&(0,n.jsxs)(h.K,{className:o.stack,spacing:"lg",children:[(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsx)(p.x,{fz:r?14:18,fw:"bold",color:c.colors.blue[6],children:"내가 작성한 후기"}),(0,n.jsx)(p.x,{fz:r?12:14,color:c.colors.gray[4],children:(0,ex.n)(a.createdAt)})]}),(0,n.jsx)(h.K,{spacing:0,children:(0,n.jsx)(J.l,{className:o.reviewTypo,children:(0,n.jsx)(Q.o,{className:o.spoiler,maxHeight:r?65.6:94.4,showLabel:"자세히 보기",hideLabel:"숨기기",children:(0,n.jsx)("div",{className:o.content,dangerouslySetInnerHTML:{__html:a.content}})})})}),(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsx)(v.z,{className:o.button,size:"xs",variant:"outline",color:"dark",leftIcon:(0,n.jsx)(et.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}),onClick:B,children:"답글"}),(0,n.jsxs)(x.Z,{spacing:"xs",children:[(0,n.jsx)(v.z,{className:s(o.button,r?o.buttonPadding:null),size:"xs",variant:"outline",color:"dark",onClick:()=>{a.like?ej(t,a.id,m).then(()=>{Z(),y()}):eg(t,a.id,m).then(()=>{a.dislike?ev(t,a.id,m).then(()=>{Z(),y()}):(Z(),y())})},children:(0,n.jsxs)(x.Z,{spacing:"xs",children:[a.like?(0,n.jsx)(ea.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}):(0,n.jsx)(en.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{children:a.likeCount})]})}),(0,n.jsx)(v.z,{className:s(o.button,r?o.buttonPadding:null),size:"xs",variant:"outline",color:"dark",onClick:()=>{a.dislike?ev(t,a.id,m).then(()=>{Z(),y()}):ef(t,a.id,m).then(()=>{a.like?ej(t,a.id,m).then(()=>{Z(),y()}):(Z(),y())})},children:(0,n.jsxs)(x.Z,{spacing:"xs",children:[a.dislike?(0,n.jsx)(er.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}):(0,n.jsx)(eo.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{children:a.dislikeCount})]})}),(0,n.jsxs)(ei.v,{shadow:"md",width:120,position:"bottom-end",offset:10,children:[(0,n.jsx)(ei.v.Target,{children:(0,n.jsx)(es.k,{className:o.dotButton,children:(0,n.jsx)(el.Z,{stroke:1.5,size:r?"1rem":"1.5rem"})})}),(0,n.jsxs)(ei.v.Dropdown,{children:[(0,n.jsx)(ei.v.Item,{icon:(0,n.jsx)(ed.Z,{size:18,stroke:2}),className:o.menuItem,onClick:()=>{T(!0)},children:"수정하기"}),(0,n.jsx)(ei.v.Divider,{}),(0,n.jsx)(ei.v.Item,{icon:(0,n.jsx)(em.Z,{size:18,stroke:2}),className:o.menuItem,onClick:()=>{ep(t,a.id,m).then(()=>{Z(),y(),(0,L.c0)("후기 삭제 완료!","후기가 정상적으로 삭제되었습니다.")})},children:"삭제하기"})]})]})]})]}),(0,n.jsxs)($.U,{in:S,children:[(0,n.jsx)(f.i,{}),(0,n.jsxs)(x.Z,{className:o.myReviewGroup,children:[(0,n.jsx)(u.q,{radius:"xl",size:r?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(d.x,{className:o.reviewEditorBox,children:[_&&(0,n.jsx)(tn,{placeholder:"후기에 답글을 달아보세요.",gameId:t,reviewId:a.id,isInReviewMine:!0}),!_&&(0,n.jsx)(N.o,{className:o.reviewNo,placeholder:"게임을 플레이하고 후기에 답글을 달아보세요.",disabled:!0})]})]}),null==g?void 0:g.map(e=>e.data.data.map(e=>(0,n.jsx)(eB,{gameId:t,reviewId:a.id,data:e,isInReviewMine:!0}))),w&&(0,n.jsx)(d.x,{className:o.loader,children:(0,n.jsx)(F.a,{variant:"dots"})})]})]}),I&&(0,n.jsx)(tn,{completePatch:()=>T(!1),placeholder:"도움이 되는 착한 후기를 남겨보세요.",gameId:t,content:a.content})]})}async function ez(e,t,a,n){try{await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/comment/").concat(a),{headers:{"Content-Type":"application/json",Authorization:n}})}catch(e){console.error(e)}}async function eN(e,t,a,n){let{data:r}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/comment/").concat(a,"/like"),{},{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}});return r}async function eI(e,t,a,n){let{data:r}=await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/comment/").concat(a,"/like"),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}});return r}async function eT(e,t,a,n){let{data:r}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/comment/").concat(a,"/dislike"),{},{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}});return r}async function eS(e,t,a,n){let{data:r}=await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/").concat(t,"/comment/").concat(a,"/dislike"),{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}});return r}function eB(e){let{gameId:t,reviewId:a,data:r,isInReviewMine:o}=e,s=(0,i.a)("(max-width: 765px)"),{classes:c,cx:l}=ec({smallScreen:s}),m=(0,z.rZ)(),{user:g,token:j}=(0,P.Z)(),{mutategameReviewComment:w}=(0,C.useContext)(eL),{mutategameReviewMineComment:b}=(0,C.useContext)(eZ),[k,y]=(0,C.useState)(!1);return(0,n.jsxs)(d.x,{children:[(0,n.jsx)(f.i,{}),(0,n.jsxs)(h.K,{className:c.stack,spacing:"lg",children:[(0,n.jsxs)(x.Z,{position:"apart",align:"flex-start",children:[(0,n.jsxs)(x.Z,{align:"flex-end",children:[(0,n.jsx)(u.q,{radius:"xl",size:s?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(h.K,{spacing:"0.2rem",children:[(0,n.jsx)(p.x,{fz:s?14:18,children:r.author.name}),(0,n.jsx)(p.x,{fz:s?12:14,color:m.colors.blue[4],children:tr(r.author.playtime)})]})]}),(0,n.jsx)(p.x,{fz:s?12:14,color:m.colors.gray[4],children:(0,ex.n)(r.createdAt)})]}),!k&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.K,{className:c.marginLeft,spacing:0,children:(0,n.jsx)(J.l,{className:c.reviewTypo,children:(0,n.jsx)(Q.o,{className:c.spoiler,maxHeight:s?65.6:94.4,showLabel:"자세히 보기",hideLabel:"숨기기",children:(0,n.jsx)("div",{className:c.content,dangerouslySetInnerHTML:{__html:r.content}})})})}),(0,n.jsxs)(x.Z,{className:c.marginLeft,position:"right",spacing:"xs",children:[(0,n.jsx)(v.z,{className:l(c.button,s?c.buttonPadding:null),size:"xs",variant:"outline",color:"dark",onClick:()=>{r.like?eI(t,a,r.id,j).then(()=>{w(),o&&b()}):eN(t,a,r.id,j).then(()=>{r.dislike?eS(t,a,r.id,j).then(()=>{w(),o&&b()}):(w(),o&&b())})},children:(0,n.jsxs)(x.Z,{spacing:"xs",children:[r.like?(0,n.jsx)(ea.Z,{stroke:1.5,size:s?"1rem":"1.5rem"}):(0,n.jsx)(en.Z,{stroke:1.5,size:s?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{children:r.likeCount})]})}),(0,n.jsx)(v.z,{className:l(c.button,s?c.buttonPadding:null),size:"xs",variant:"outline",color:"dark",onClick:()=>{r.dislike?eS(t,a,r.id,j).then(()=>{w(),o&&b()}):eT(t,a,r.id,j).then(()=>{r.like?eI(t,a,r.id,j).then(()=>{w(),o&&b()}):(w(),o&&b())})},children:(0,n.jsxs)(x.Z,{spacing:"xs",children:[r.dislike?(0,n.jsx)(er.Z,{stroke:1.5,size:s?"1rem":"1.5rem"}):(0,n.jsx)(eo.Z,{stroke:1.5,size:s?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{children:r.dislikeCount})]})}),(0,n.jsxs)(ei.v,{shadow:"md",width:120,position:"bottom-end",offset:10,children:[(0,n.jsx)(ei.v.Target,{children:(0,n.jsx)(es.k,{className:c.dotButton,children:(0,n.jsx)(el.Z,{stroke:1.5,size:s?"1rem":"1.5rem"})})}),(0,n.jsxs)(ei.v.Dropdown,{children:[r.author.email===j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ei.v.Item,{icon:(0,n.jsx)(ed.Z,{size:18,stroke:2}),className:c.menuItem,onClick:()=>{y(!0)},children:"수정하기"}),(0,n.jsx)(ei.v.Divider,{}),(0,n.jsx)(ei.v.Item,{onClick:()=>{ez(t,a,r.id,j).then(()=>{w(),r.author.email===j&&b(),(0,L.c0)("댓글 삭제 완료!","댓글이 정상적으로 삭제되었습니다.")})},icon:(0,n.jsx)(em.Z,{size:18,stroke:2}),className:c.menuItem,children:"삭제하기"})]}),r.author.email!==j&&(0,n.jsx)(ei.v.Item,{icon:(0,n.jsx)(eh.Z,{size:18,stroke:2}),className:c.menuItem,children:"신고하기"})]})]})]})]}),k&&(0,n.jsx)(d.x,{className:c.marginLeft,children:(0,n.jsx)(tn,{completePatch:()=>y(!1),placeholder:"도움이 되는 착한 후기를 남겨보세요.",gameId:t,reviewId:a,commentId:r.id,content:r.content,isInReviewMine:!0})})]})]})}let eL=(0,C.createContext)({mutategameReviewComment:()=>{}});function eR(e){let{gameId:t,data:a}=e,r=(0,i.a)("(max-width: 765px)"),{classes:o,cx:s}=ee({smallScreen:r}),c=(0,z.rZ)(),{token:l,user:m,openSignInModal:g}=(0,P.Z)(),{mutateGameReview:j,mutateGameReviewMine:w}=(0,C.useContext)(ti),{data:k,setSize:y,isLoading:Z,mutate:I}=ey({gameId:t,reviewId:a.id}),[T,{toggle:S}]=(0,b.q)(!1),{data:B}=(0,D.e)(),L=void 0!==B&&to(B.data.playtimes,t);return(0,n.jsx)(eL.Provider,{value:{mutategameReviewComment:I},children:(0,n.jsxs)(d.x,{children:[(0,n.jsx)(f.i,{}),(0,n.jsxs)(h.K,{className:o.stack,spacing:"lg",children:[(0,n.jsxs)(x.Z,{position:"apart",align:"flex-start",children:[(0,n.jsxs)(x.Z,{align:"flex-end",children:[(0,n.jsx)(u.q,{radius:"xl",size:r?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(h.K,{spacing:"0.2rem",children:[(0,n.jsx)(p.x,{fz:r?14:18,children:a.author.name}),(0,n.jsx)(p.x,{fz:r?12:14,color:c.colors.blue[4],children:tr(a.author.playtime)})]})]}),(0,n.jsx)(p.x,{fz:r?12:14,color:c.colors.gray[4],children:(0,ex.n)(a.createdAt)})]}),(0,n.jsx)(h.K,{className:o.marginLeft,spacing:0,children:(0,n.jsx)(J.l,{className:o.reviewTypo,children:(0,n.jsx)(Q.o,{className:o.spoiler,maxHeight:r?65.6:94.4,showLabel:"자세히 보기",hideLabel:"숨기기",children:(0,n.jsx)("div",{className:o.content,dangerouslySetInnerHTML:{__html:a.content}})})})}),(0,n.jsxs)(x.Z,{className:o.marginLeft,position:"apart",children:[(0,n.jsx)(v.z,{className:o.button,size:"xs",variant:"outline",color:"dark",leftIcon:(0,n.jsx)(et.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}),onClick:S,children:"답글"}),(0,n.jsxs)(x.Z,{spacing:"xs",children:[(0,n.jsx)(v.z,{className:s(o.button,r?o.buttonPadding:null),size:"xs",variant:"outline",color:"dark",onClick:()=>{if(!m){g();return}a.like?ej(t,a.id,l).then(()=>{j(),a.author.email===l&&w()}):eg(t,a.id,l).then(()=>{a.dislike?ev(t,a.id,l).then(()=>{j(),a.author.email===l&&w()}):(j(),a.author.email===l&&w())})},children:(0,n.jsxs)(x.Z,{spacing:"xs",children:[a.like?(0,n.jsx)(ea.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}):(0,n.jsx)(en.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{children:a.likeCount})]})}),(0,n.jsx)(v.z,{className:s(o.button,r?o.buttonPadding:null),size:"xs",variant:"outline",color:"dark",onClick:()=>{if(!m){g();return}a.dislike?ev(t,a.id,l).then(()=>{j(),a.author.email===l&&w()}):ef(t,a.id,l).then(()=>{a.like?ej(t,a.id,l).then(()=>{j(),a.author.email===l&&w()}):(j(),a.author.email===l&&w())})},children:(0,n.jsxs)(x.Z,{spacing:"xs",children:[a.dislike?(0,n.jsx)(er.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}):(0,n.jsx)(eo.Z,{stroke:1.5,size:r?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{children:a.dislikeCount})]})})]})]}),(0,n.jsxs)($.U,{in:T,className:o.marginLeft,children:[(0,n.jsx)(f.i,{}),(0,n.jsxs)(x.Z,{className:o.myReviewGroup,children:[(0,n.jsx)(u.q,{radius:"xl",size:r?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(d.x,{className:o.reviewEditorBox,children:[L&&(0,n.jsx)(tn,{placeholder:"후기에 답글을 달아보세요.",gameId:t,reviewId:a.id}),!L&&(0,n.jsx)(N.o,{className:o.reviewNo,placeholder:"게임을 플레이하고 후기에 답글을 달아보세요.",disabled:!0})]})]}),null==k?void 0:k.map(e=>e.data.data.map(e=>(0,n.jsx)(eB,{gameId:t,reviewId:a.id,data:e}))),Z&&(0,n.jsx)(d.x,{className:o.loader,children:(0,n.jsx)(F.a,{variant:"dots"})})]})]})]})})}var eP=a(4980),e_=a(1284),eK=a(4991),eG=a(3237);async function eH(e){let{gameId:t,reviewId:a,commentId:n,data:r,token:o}=e,i="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(t,"/review/").concat(a,"/comment/").concat(n);try{let e=await K.Z.patch(i,r,{headers:{"Content-Type":"application/json",Authorization:"".concat(o)}});return e.data}catch(e){throw e}}async function eA(e,t,a){return await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(t,"/board"),e,{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}}),Promise.resolve()}var eE=a(9236),eM=a(4403);let eD=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{boardDetailViewer:{width:"100%",height:"100%",padding:"1rem 1.5rem",cursor:"default"},userStack:{flexGrow:1},marginLeft:{marginLeft:a?"0.7rem":"1rem"},content:{lineHeight:1.5,padding:0,"*":{marginBottom:"0px !important"}},footerGroup:{marginTop:"0.7rem",paddingLeft:a?"0.7rem":"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid ".concat(e.black)},dotButton:{height:25,borderRadius:5,"&:hover":{backgroundColor:e.colors.gray[1]}},menuItem:{padding:5}}});var eF=a(1209),eW=a(3600),eq=a(653),eU=a(8290);let eX=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{stack:{margin:"1rem 1rem"},userStack:{flexGrow:1},commentTypo:{lineHeight:1.2},spoiler:{".mantine-Spoiler-control":{marginTop:"0.5rem",color:e.colors.gray[4],"&:hover":{textDecoration:"none"}}},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}},viewMoreButton:{paddingTop:"0.3rem"},marginLeft:{marginLeft:a?"2.9rem":"4rem"},dotButton:{height:25,borderRadius:5,"&:hover":{backgroundColor:e.colors.gray[1]}},menuItem:{padding:5}}});function eV(e,t,a){let n="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/board/").concat(t,"/like");return K.Z.post(n,{},{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}})}function eO(e,t,a){let n="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/board/").concat(t,"/like");return K.Z.delete(n,{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}})}async function eY(e,t,a){return await K.Z.delete("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/board/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"".concat(a)}}),Promise.resolve()}function eJ(e){let{post:t,gameId:a,mutatePost:r}=e,o=(0,i.a)("(max-width: 765px)"),{classes:s,cx:c}=eX({smallScreen:o}),l=(0,z.rZ)(),{token:m,user:g,openSignInModal:j}=(0,P.Z)(),[w,b]=(0,C.useState)(!1),[k,N]=(0,C.useState)(!1);return(0,n.jsxs)(d.x,{children:[(0,n.jsx)(f.i,{}),(0,n.jsxs)(h.K,{className:s.stack,spacing:"sm",children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(u.q,{radius:"xl",size:o?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(h.K,{className:s.userStack,spacing:"0.4rem",children:[(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsx)(p.x,{fz:o?14:18,children:t.author.name}),(0,n.jsx)(p.x,{fz:o?12:14,color:l.colors.gray[4],children:(0,ex.n)(t.createdAt)})]}),(0,n.jsx)(p.x,{fz:o?12:14,color:l.colors.gray[5],children:t.author.description})]})]}),(0,n.jsx)(h.K,{className:s.marginLeft,spacing:0,children:k?(0,n.jsx)(tn,{gameId:a,boardId:t.id,content:t.content,placeholder:"댓글을 입력하세요.",parentBoardCategoryNames:t.categories.map(e=>e.name),completePatch:()=>{N(!1),r()}}):(0,n.jsx)(J.l,{className:s.commentTypo,children:(0,n.jsx)(Q.o,{className:s.spoiler,maxHeight:o?65.6:94.4,showLabel:"자세히 보기",hideLabel:"숨기기",children:(0,n.jsx)("div",{className:s.content,dangerouslySetInnerHTML:{__html:t.content}})})})}),w&&(0,n.jsx)(eM.b,{icon:(0,n.jsx)(eW.Z,{size:"1rem"}),title:"댓글을 삭제하시겠습니까?",color:"red",withCloseButton:!0,onClose:()=>{b(!1)},children:(0,n.jsxs)(h.K,{spacing:"xs",children:["댓글을 삭제하면 되돌릴 수 없습니다.",(0,n.jsx)(x.Z,{position:"right",children:(0,n.jsx)(v.z,{variant:"outline",color:"red",onClick:()=>{eY(a,t.id,m).then(()=>{r(),(0,L.c0)("댓글 삭제 완료","게시글이 삭제되었습니다."),b(!1)})},children:"삭제"})})]})}),(0,n.jsxs)(x.Z,{className:s.marginLeft,position:"apart",children:[(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(Z.Z,{onClick:()=>{if(!g){j();return}t.like?eO(a,t.id,m).then(()=>{r()}):eV(a,t.id,m).then(()=>{r()})},children:(0,n.jsx)(y.Z,{stroke:1.5,size:o?"1rem":"1.5rem",fill:t.like?l.colors.red[6]:"white"})}),(0,n.jsx)(p.x,{fz:14,children:t.likeCount})]}),(0,n.jsxs)(ei.v,{shadow:"md",width:120,position:"bottom-end",offset:1,children:[(0,n.jsx)(ei.v.Target,{children:(0,n.jsx)(es.k,{className:s.dotButton,children:(0,n.jsx)(el.Z,{})})}),(0,n.jsxs)(ei.v.Dropdown,{children:[!1,(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ei.v.Item,{onClick:()=>{N(!0)},icon:(0,n.jsx)(ed.Z,{size:18,stroke:2}),className:s.menuItem,children:"수정하기"}),(0,n.jsx)(ei.v.Divider,{}),(0,n.jsx)(ei.v.Item,{icon:(0,n.jsx)(em.Z,{size:18,stroke:2}),className:s.menuItem,onClick:()=>{b(!0)},children:"삭제하기"})]})]})]})]})]})]})}var eQ=function(e,t){let{token:a}=(0,P.Z)(),n=(0,R.ZP)("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/board/").concat(t),e=>(0,_._)(e,a));return n},e$=a(36),e0=a(7466),e1=a(5272),e5=a(3777),e2=a(4588);let e4=(0,s.k)((e,t)=>{let{fullWidth:a}=t;return{editorContainer:{width:a?"100%":"800px",padding:"0.5rem",paddingBottom:"0.2rem"},title:{flexGrow:1,".mantine-TextInput-wrapper":{borderRadius:e.radius.sm,border:"1px solid ".concat(e.colors.gray[4])},".mantine-TextInput-input":{border:"none",backgroundColor:"transparent"}}}}),e3=(0,s.k)((e,t)=>{let{height:a}=t;return{menuDropdown:{".mantine-Menu-item":{paddingTop:"0.4rem",paddingBottom:"0.4rem",color:"".concat(e.colors.gray[6])}},button:{boxSizing:"border-box",height:a,padding:"0.3rem 0.7rem",border:"1px solid ".concat(e.colors.gray[4]),borderRadius:e.radius.sm,backgroundColor:"transparent",fontWeight:"normal",fontSize:14,color:"".concat(e.colors.gray[6]),"&:hover":{backgroundColor:"transparent"}}}});var e7=a(1500);function e8(e){let{data:t,defaultValue:a,height:r,onChange:o}=e,{classes:i,cx:s}=e3({height:r}),c=(0,z.rZ)(),[l,d]=(0,C.useState)(a),m=t.map(e=>(0,n.jsx)(ei.v.Item,{onClick:()=>{o(e),d(e)},children:e}));return(0,n.jsxs)(ei.v,{position:"bottom-start",width:"7rem",shadow:"sm",children:[(0,n.jsx)(ei.v.Target,{children:(0,n.jsx)(es.k,{className:i.button,variant:"outline",children:(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[l,(0,n.jsx)(e7.Z,{color:c.colors.gray[5],stroke:1.6,size:"1.3rem"})]})})}),(0,n.jsx)(ei.v.Dropdown,{className:i.menuDropdown,children:m})]})}var e6=a(7248);async function e9(e,t,a,n){return await K.Z.patch("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(t,"/board/").concat(a),e,{headers:{"Content-Type":"application/json",Authorization:"".concat(n)}}),Promise.resolve()}function te(e){let{opened:t,gameId:a,close:r,fullWidth:o,editProps:i}=e,{classes:s,cx:c}=e4({fullWidth:o}),{token:l}=(0,P.Z)(),[d,m]=(0,C.useState)("공지사항"),u=(0,e6.c)({initialValues:{title:i?i.title:"",category:i?i.category:[]}}),p=(0,C.useRef)(null);return(0,n.jsx)(e1.i,{active:t,children:(0,n.jsx)("form",{onSubmit:u.onSubmit(e=>{let t=p.current.getHTML(),n={title:e.title,content:t,categoryNames:[d]};console.log("postData",n),i?e9(n,a,i.boardId,l).then(()=>{(0,L.c0)("수정 완료","게시물이 성공적으로 수정되었습니다."),r()}):eA(n,a,l).then(()=>{(0,L.c0)("업로드 완료","게시물이 성공적으로 게시되었습니다."),r()})}),children:(0,n.jsxs)(h.K,{className:s.editorContainer,spacing:17,children:[(0,n.jsxs)(x.Z,{align:"flex-end",children:[(0,n.jsx)(N.o,{className:s.title,placeholder:"멋진 제목을 입력해주세요.",...u.getInputProps("title"),"data-autofocus":!0}),(0,n.jsx)(e8,{data:["공지사항","업데이트","개발일지","리뷰","공략","뻘글"],defaultValue:d,height:"2.375rem",onChange:e=>{m(e)}})]}),(0,n.jsx)(e5.Z,{content:i?i.content:"",ref:p}),(0,n.jsx)(x.Z,{position:"right",children:(0,n.jsx)(e2.w,{CloseModal:r,text:i?"게시글 수정":"게시글 작성",type:"submit"})})]})})})}let tt=(0,C.createContext)({mutateGameBoardComment:()=>{}});function ta(e){let{gameId:t,boardId:a}=e,o=(0,i.a)("(max-width: 765px)"),{classes:s,cx:c}=eD({smallScreen:o}),l=(0,z.rZ)(),m=(0,r.useRouter)(),{data:g,mutate:j}=eQ(t,a),{data:f,mutate:w,setSize:b,isLast:k}=(0,e$.Z)(e0.XF,t,{parentId:a}),{user:N,token:I,openSignInModal:T}=(0,P.Z)(),S=(null==g?void 0:g.data.author.id)===(null==N?void 0:N.id),[B,R]=(0,C.useState)(!1),[_,K]=(0,C.useState)(!1);return g&&(0,n.jsx)(W.Z,{className:s.boardDetailViewer,children:(0,n.jsxs)(h.K,{children:[(0,n.jsx)(es.k,{onClick:()=>m.back(),children:(0,n.jsxs)(x.Z,{spacing:"0.2rem",children:[(0,n.jsx)(eF.Z,{color:l.colors.gray[5]}),(0,n.jsx)(p.x,{color:l.colors.gray[5],children:"목록으로"})]})}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(u.q,{radius:"xl",size:o?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(h.K,{className:s.userStack,spacing:"0.4rem",children:[(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsx)(p.x,{fz:o?14:18,children:g.data.author.name}),(0,n.jsx)(p.x,{fz:o?12:14,color:l.colors.gray[4],children:(0,ex.n)(g.data.createdAt)})]}),(0,n.jsx)(p.x,{fz:o?12:14,color:l.colors.gray[5],children:g.data.author.description})]})]}),_?(0,n.jsx)(te,{opened:!0,gameId:t,close:()=>{K(!1),j()},fullWidth:!0,editProps:{boardId:a,title:g.data.title,content:g.data.content,category:g.data.categories.map(e=>e.name)}}):(0,n.jsxs)(h.K,{className:s.marginLeft,spacing:"xs",children:[(0,n.jsx)(eE.D,{order:3,children:g.data.title}),(0,n.jsx)(J.l,{children:(0,n.jsx)("div",{className:s.content,dangerouslySetInnerHTML:{__html:g.data.content}})})]}),B&&(0,n.jsx)(eM.b,{icon:(0,n.jsx)(eW.Z,{size:"1rem"}),title:"게시글을 삭제하시겠습니까?",color:"red",withCloseButton:!0,onClose:()=>{R(!1)},children:(0,n.jsxs)(h.K,{spacing:"xs",children:["게시글을 삭제하면 되돌릴 수 없습니다.",(0,n.jsx)(x.Z,{position:"right",children:(0,n.jsx)(v.z,{variant:"outline",color:"red",onClick:()=>{eY(t,a,I).then(()=>{j(),(0,L.c0)("게시글 삭제 완료","게시글이 삭제되었습니다."),R(!1)})},children:"삭제"})})]})}),(0,n.jsxs)(x.Z,{className:s.footerGroup,position:"apart",children:[(0,n.jsxs)(x.Z,{spacing:"sm",children:[(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(et.Z,{stroke:1.5,size:o?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{fz:14,children:g.data.childCount})]}),(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(Z.Z,{onClick:()=>{if(!N){T();return}g.data.like?eO(t,a,I).then(()=>{j()}):eV(t,a,I).then(()=>{j()})},children:(0,n.jsx)(y.Z,{stroke:1.5,size:o?"1rem":"1.5rem",fill:g.data.like?l.colors.red[6]:"white"})}),(0,n.jsx)(p.x,{fz:14,children:g.data.likeCount})]}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(eq.Z,{stroke:1.5,size:o?"1rem":"1.5rem"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(eU.Z,{stroke:1.5,size:o?"1rem":"1.5rem"})})]}),!B&&!_&&(0,n.jsxs)(ei.v,{shadow:"md",width:120,position:"bottom-end",offset:1,children:[(0,n.jsx)(ei.v.Target,{children:(0,n.jsx)(es.k,{className:s.dotButton,children:(0,n.jsx)(el.Z,{})})}),(0,n.jsxs)(ei.v.Dropdown,{children:[!S&&(0,n.jsx)(ei.v.Item,{icon:(0,n.jsx)(eh.Z,{size:18,stroke:2}),className:s.menuItem,children:"신고하기"}),S&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ei.v.Item,{onClick:()=>{K(!0)},icon:(0,n.jsx)(ed.Z,{size:18,stroke:2}),className:s.menuItem,children:"수정하기"}),(0,n.jsx)(ei.v.Divider,{}),(0,n.jsx)(ei.v.Item,{onClick:()=>{R(!0)},icon:(0,n.jsx)(em.Z,{size:18,stroke:2}),className:s.menuItem,children:"삭제하기"})]})]})]})]}),(0,n.jsx)(d.x,{className:s.marginLeft,children:(0,n.jsx)(tt.Provider,{value:{mutateGameBoardComment:w},children:(0,n.jsx)(tn,{placeholder:"이 게시글에 댓글을 남겨보세요.",parentBoardId:a,gameId:t,parentBoardCategoryNames:g.data.categories.map(e=>e.name)})})}),null==f?void 0:f.map(e=>e.data.data.map(e=>(0,n.jsx)(eJ,{post:e,gameId:t,mutatePost:w},e.id))),!k&&(0,n.jsx)(Z.Z,{onClick:()=>{b(e=>e+1)},children:(0,n.jsx)(p.x,{fz:16,color:l.colors.gray[5],children:"댓글 더 보기"})})]})})}function tn(e){let{completePatch:t,placeholder:a,gameId:r,reviewId:o,commentId:s,content:c,isInReviewMine:l,parentBoardId:d,parentBoardCategoryNames:m,boardId:h}=e;if(d&&!m)throw Error("게시판 댓글을 등록하려면 카테고리 이름을 지정해야 합니다.");let u=(0,z.rZ)(),p=(0,i.a)("(max-width: 765px)"),{classes:g}=U({smallScreen:p}),{token:j,openSignInModal:f,user:v}=(0,P.Z)(),w=(0,e_.jE)({extensions:[eK.Z,eG.Z.configure({placeholder:a})],content:c||""}),{mutateGameReview:b,mutateGameReviewMine:k}=(0,C.useContext)(ti),{mutategameReviewComment:y}=(0,C.useContext)(eL),{mutategameReviewMineComment:N}=(0,C.useContext)(eZ),{mutateGameBoardComment:I}=(0,C.useContext)(tt),[T,S]=(0,C.useState)("");return(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),d&&!h?eA({content:T,title:"",categoryNames:m,parentId:d},r,j).then(()=>{S(""),(0,L.c0)("댓글 등록 완료!","댓글이 정상적으로 등록되었습니다."),I()}):h?e9({content:T,title:"",categoryNames:m},r,h,j).then(()=>{S(""),(0,L.c0)("댓글 수정 완료!","댓글이 정상적으로 수정되었습니다."),null==t||t()}):s&&o?eH({gameId:r,reviewId:o,commentId:s,data:{content:T,rating:0},token:j}).then(()=>{S(""),void 0!==t&&t(),b(),l&&k(),(0,L.c0)("댓글 수정 완료!","댓글이 정상적으로 수정되었습니다.")}):c?V({gameId:r,data:{content:T,rating:0},token:j}).then(()=>{S(""),void 0!==t&&t(),b(),k(),(0,L.c0)("후기 수정 완료!","후기가 정상적으로 수정되었습니다.")}):o?Y({content:T},r,o,j).then(()=>{S(""),y(),l&&N(),(0,L.c0)("댓글 등록 완료!","댓글이 정상적으로 수정되었습니다.")}):O({content:T,rating:5},r,j).then(()=>{S(""),b(),k(),(0,L.c0)("후기 등록 완료!","후기가 정상적으로 등록되었습니다.")})},children:(0,n.jsxs)(x.Z,{className:g.group,children:[(0,n.jsx)(eP.L,{className:g.editor,editor:w,onFocus:e=>{v||(f(),e.currentTarget.querySelector("div[contenteditable='true']").blur())},children:(0,n.jsx)(eP.L.Content,{})}),(0,n.jsx)(Z.Z,{type:"submit",onClick:e=>{if(!v){f(),e.preventDefault();return}"<p></p>"===w.getHTML()?((0,L.c0)(null,"내용을 입력해 주세요."),e.preventDefault()):(S(w.getHTML()),w.commands.setContent(""))},children:(0,n.jsx)(X.Z,{className:g.sendIcon,size:p?"1.5rem":"2rem",stroke:1,color:u.colors.gray[7]})})]})})}function tr(e){let t=Math.floor(e/60),a=e%60;return 0===t?"".concat(a,"분 플레이"):0===a?"".concat(t,"시간 플레이"):"".concat(t,"시간 ").concat(a,"분 플레이")}function to(e,t){if(void 0===e)return!1;for(let a of e)if(a.game.id===t)return!0;return!1}let ti=(0,C.createContext)({mutateGameReview:()=>{},mutateGameReviewMine:()=>{}});function ts(e){let{gameId:t}=e,a=(0,i.a)("(max-width: 765px)"),{classes:r,cx:o}=q({smallScreen:a}),{user:s,token:c}=(0,P.Z)(),{data:l}=(0,D.e)(),m=void 0!==l&&to(l.data.playtimes,t),{data:g,mutate:j}=function(e){let{token:t}=(0,P.Z)(),a="".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/game/").concat(e,"/review/user"),n=(0,R.ZP)(a,e=>(0,_._)(e,t));return n}(t),{data:f,setSize:v,isLoading:w,mutate:b}=ey({gameId:t});return(0,n.jsx)(ti.Provider,{value:{mutateGameReview:b,mutateGameReviewMine:j},children:(0,n.jsxs)(h.K,{spacing:"xl",className:r.all,children:[(0,n.jsx)(p.x,{fz:a?28:32,children:"후기"}),(0,n.jsx)(W.Z,{className:r.reviewSection,bg:"white",children:(0,n.jsxs)(h.K,{spacing:"lg",children:[(0,n.jsxs)(x.Z,{className:r.myReviewGroup,children:[(0,n.jsx)(u.q,{radius:"xl",size:a?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsx)(d.x,{className:r.reviewEditorBox,children:m?g?null===g.data?(0,n.jsx)(tn,{placeholder:"도움이 되는 착한 후기를 남겨보세요.",gameId:t||""}):(0,n.jsx)(eC,{gameId:t,data:g.data}):(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(N.o,{className:r.reviewNo,placeholder:"게임을 플레이하고 솔직한 후기를 남겨보세요.",disabled:!0})})]}),null==f?void 0:f.map(e=>{var a;return null===(a=e.data.data)||void 0===a?void 0:a.map(e=>e.author.email!==c?(0,n.jsx)(eR,{gameId:t,data:e}):null)}),w&&(0,n.jsx)(d.x,{className:r.loader,children:(0,n.jsx)(F.a,{variant:"dots"})})]})})]})})}let tc=(0,s.k)(e=>({marginTop:{marginTop:"1rem"},marginSide:{marginLeft:"0.5rem",marginRight:"0.5rem"},priceButton:{display:"flex",width:"auto",height:"1.5rem",backgroundColor:e.colors.teal[4],fontWeight:"normal",alignItems:"center","&:hover":{backgroundColor:e.colors.teal[5]}},passButton:{width:"8rem",height:"3rem",backgroundColor:"white",flexGrow:1,"&:hover":{backgroundColor:e.colors.gray[0]}},sellButton:{width:"8rem",height:"3rem",backgroundColor:e.colors.teal[4],flexGrow:1,"&:hover":{backgroundColor:e.colors.teal[5]}}}));var tl=a(9631),td=a(2839);async function tm(e,t){let{data:a}=await K.Z.post("".concat("http://ec2-43-207-85-73.ap-northeast-1.compute.amazonaws.com:8000","/users/").concat(e,"/subscribe"),{body:t},{headers:{"Content-Type":"application/json"}});return a}function th(e){var t;let{onCloseClick:a,postData:r}=e,o=(0,z.rZ)(),{classes:i,cx:s}=tc(),{user:c,token:l,openSignInModal:d}=(0,P.Z)(),[m,{toggle:g}]=(0,b.q)(!1);return(0,n.jsxs)(h.K,{spacing:"xs",children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(u.q,{size:"3.75rem",radius:"md",src:"https://play-lh.googleusercontent.com/He92papZcOmkgTi1sLHXQQb02aoyRtJ8ml96njM_cSAcpHhILvxMjhLix4mYEIKXPq4=s96-rw"}),(0,n.jsxs)(h.K,{spacing:"xs",children:[(0,n.jsx)(p.x,{fw:"bold",fz:20,children:null===(t=r.store)||void 0===t?void 0:t.title}),(0,n.jsxs)(p.x,{fz:16,children:["플레이한 시간:"," ",(0,n.jsx)(p.x,{c:o.colors.teal[5],fw:"bold",span:!0,children:r.author.playtime?r.author.playtime:"0분"})]})]})]}),(0,n.jsxs)(x.Z,{className:i.marginTop,spacing:"xs",children:[(0,n.jsx)(tl.Z,{}),(0,n.jsxs)(p.x,{fz:16,children:["남은 시간:"," ",(0,n.jsx)(p.x,{c:o.colors.teal[5],fw:"bold",span:!0,children:r.author.playtime?r.author.playtime:"0분"})]})]}),r.isPlayable&&(0,n.jsxs)(x.Z,{spacing:"xs",children:[(0,n.jsx)(td.Z,{}),(0,n.jsxs)(p.x,{fz:16,children:["종료 날짜:"," ",(0,n.jsx)(p.x,{c:o.colors.teal[5],fw:"bold",span:!0,children:r.author.playtime?r.author.playtime:"2023년 9월 28일"})]})]}),!r.isPlayable&&(0,n.jsxs)(h.K,{spacing:"xs",children:[(0,n.jsx)(x.Z,{className:i.marginTop,position:"apart",children:(0,n.jsx)(v.z,{className:i.passButton,variant:"default",onClick:g,children:(0,n.jsx)(p.x,{fz:20,children:"Agora 패스 구매"})})}),(0,n.jsx)($.U,{in:m,children:(0,n.jsxs)(h.K,{spacing:"0.4rem",children:[(0,n.jsxs)(x.Z,{className:i.marginSide,position:"apart",children:[(0,n.jsx)(p.x,{children:"1시간 / 1개월"}),(0,n.jsx)(v.z,{className:i.priceButton,onClick:()=>{c?tm(c.id,{time:60,duration:30}).then(()=>{(0,L.c0)("Agora 패스 구매가 완료되었습니다!",null),a()}):(d(),a())},children:"무료"})]}),(0,n.jsx)(f.i,{}),(0,n.jsxs)(x.Z,{className:i.marginSide,position:"apart",children:[(0,n.jsx)(p.x,{children:"2시간 / 1개월"}),(0,n.jsx)(v.z,{className:i.priceButton,onClick:()=>{c?tm(c.id,{time:120,duration:30}).then(()=>{(0,L.c0)("Agora 패스 구매가 완료되었습니다!",null),a()}):(d(),a())},children:"무료"})]})]})})]}),r.isPlayable&&(0,n.jsxs)(x.Z,{className:i.marginTop,position:"apart",children:[(0,n.jsx)(v.z,{className:i.sellButton,w:"3rem",onClick:()=>{window.open("agoragame://install?id=".concat(r.id,"&token=").concat(l),"_blank")},children:(0,n.jsx)(p.x,{fz:20,children:"게임 다운로드"})}),(0,n.jsx)(v.z,{className:i.sellButton,onClick:()=>{window.open("agoragame://execute?id=".concat(r.id,"&token=").concat(l),"_blank")},children:(0,n.jsx)(h.K,{spacing:"sm",children:(0,n.jsx)(w.M,{children:(0,n.jsx)(p.x,{fz:20,children:"게임 시작"})})})})]})]})}function tx(e){var t,a,r,o;let{postData:i}=e,{classes:s,cx:c}=k(),{token:l}=(0,P.Z)(),[z,{open:N,close:I}]=(0,b.q)(!1),[T,{open:S,close:B}]=(0,b.q)(!1),[L,R]=(0,C.useState)(!1),{mutatePost:_}=(0,C.useContext)(tP),K=i.createdAt,[G,H,F]=(null==K?void 0:K.split("-"))||[null,null,null],W="".concat(G,"년 ").concat(H,"월 ").concat(null==F?void 0:F.slice(0,2),"일"),{data:q}=(0,D.e)(),U=void 0!==q&&to(q.data.playtimes,i.id),X=i.popularTags.map(e=>(0,n.jsx)(d.x,{className:s.tag,children:e.name})),V=(0,C.useRef)(null),[O,Y]=(0,C.useState)(null),J=()=>V.current?V.current.scrollHeight>V.current.clientHeight:null;return(0,C.useEffect)(()=>{Y(J())},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.u,{className:s.modal,opened:z,onClose:I,title:"태그 추가",centered:!0,children:(0,n.jsx)(A,{onClose:I,gameId:i.id})}),(0,n.jsx)(m.u,{opened:T,onClose:B,withCloseButton:!1,centered:!0,children:(0,n.jsx)(th,{postData:i,onCloseClick:B})}),(0,n.jsxs)(h.K,{spacing:"1rem",className:s.stack,children:[(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(u.q,{size:"3.75rem",radius:"md",src:"https://play-lh.googleusercontent.com/He92papZcOmkgTi1sLHXQQb02aoyRtJ8ml96njM_cSAcpHhILvxMjhLix4mYEIKXPq4=s96-rw"}),(0,n.jsx)(p.x,{fw:"bold",fz:20,children:null===(t=i.store)||void 0===t?void 0:t.title})]}),(0,n.jsxs)(x.Z,{spacing:"xs",children:[(0,n.jsx)(Z.Z,{onClick:()=>{i.like?M(i.id,l).then(()=>{_()}):E(i.id,l).then(()=>{_()})},children:i.like?(0,n.jsx)(g.E,{className:s.heartFilled,width:"1.6rem",height:"1.5rem",src:"/images/HeartFilled.svg"}):(0,n.jsx)(y.Z,{size:"2rem",stroke:1})}),(0,n.jsxs)(p.x,{fz:16,children:["(",i.likeCount,")"]})]})]}),(0,n.jsx)(x.Z,{className:c(s.alignTop,s.marginBottom),children:(0,n.jsxs)(h.K,{spacing:"xs",w:"100%",children:[(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsxs)(x.Z,{spacing:"2rem",children:[(0,n.jsx)(p.x,{className:s.grayText,fw:"bold",children:"개발사"}),(0,n.jsx)(p.x,{className:s.blueText,fw:"bold",component:"a",href:"https://mantine.dev",children:null===(a=i.store)||void 0===a?void 0:a.developer})]}),(0,n.jsx)(Z.Z,{onClick:()=>{R(e=>!e)},children:(0,n.jsx)(j.C,{className:s.followBadge,color:L?"gray":"teal",size:"lg",radius:"md",leftSection:(0,n.jsx)(u.q,{size:24,radius:"lg",src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),children:L?"팔로잉":"팔로우"})})]}),(0,n.jsxs)(x.Z,{spacing:"2rem",children:[(0,n.jsx)(p.x,{className:s.grayText,fw:"bold",children:"배급사"}),(0,n.jsx)(p.x,{className:s.blueText,fw:"bold",component:"a",href:"https://mantine.dev",children:null===(r=i.store)||void 0===r?void 0:r.distributor})]})]})}),(0,n.jsx)(f.i,{}),(0,n.jsxs)(x.Z,{spacing:"2rem",className:s.marginTop,children:[(0,n.jsx)(p.x,{className:s.grayText,fw:"bold",children:"장르"}),(0,n.jsx)(x.Z,{spacing:"0.5rem",className:s.blueText,children:null===(o=i.genres)||void 0===o?void 0:o.map(e=>(0,n.jsx)(p.x,{fw:"bold",component:"a",href:"https://mantine.dev",children:e.name}))})]}),(0,n.jsxs)(x.Z,{spacing:"2rem",children:[(0,n.jsx)(p.x,{className:s.grayText,fw:"bold",children:"이용 등급"}),(0,n.jsx)(p.x,{className:s.blueText,fw:"bold",component:"a",href:"https://mantine.dev",children:"12세 이용가"})]}),(0,n.jsxs)(p.x,{className:c(s.grayText,s.marginBottom),fw:"bold",children:["출시일: ",W]}),(0,n.jsx)(f.i,{}),(0,n.jsx)(p.x,{className:c(s.marginLeft,s.marginTop),fw:"bold",children:"이 게임의 인기 태그 :"}),(0,n.jsx)(d.x,{className:s.tagGroup,children:(0,n.jsxs)(d.x,{className:s.tagBox,ref:V,children:[X,U&&(0,n.jsx)(v.z,{className:c(s.addButton,O?s.addButton_A:null),onClick:N,children:"+"})]})}),(0,n.jsx)(x.Z,{className:s.marginLeft,position:"apart",children:(0,n.jsx)(v.z,{className:c(s.sellButton),onClick:S,children:(0,n.jsx)(h.K,{spacing:"sm",children:(0,n.jsx)(w.M,{children:(0,n.jsx)(p.x,{fz:28,children:"게임 시작"})})})})})]})]})}var tu=a(1141);let tp=(0,s.k)(e=>({tabList:{position:"relative",boxSizing:"border-box",width:"100%",height:"3rem",borderBottom:"0.2rem solid #fcfcfe",paddingLeft:"2.3rem",backgroundColor:"#fcfcfe",boxShadow:"0px 6px 7px rgba(0, 0, 0, 0.1)"},tabItem_B:{width:"8rem",height:"3rem",fontSize:"1rem","&:hover":{backgroundColor:"transparent",borderBottom:"0.2rem solid #fcfcfe"}},tabItem_S:{width:"5rem",height:"3rem",fontSize:"0.8rem","&:hover":{backgroundColor:"transparent",borderBottom:"0.2rem solid #fcfcfe"}},tabItemActive:{color:"".concat(e.colors.blue[6]," !important"),borderBottom:"0.2rem solid ".concat(e.colors.blue[6]),"&:hover":{borderBottom:"0.2rem solid ".concat(e.colors.blue[6])}}}));function tg(e){let{activeTab:t,setActiveTab:a}=e,{classes:r,cx:o}=tp(),s=(0,i.a)("(max-width: 780px)"),c=(0,C.useContext)(t_);return(0,n.jsx)(tu.m,{value:t,onTabChange:a,children:(0,n.jsxs)(tu.m.List,{className:r.tabList,position:"left",children:[(0,n.jsx)(tu.m.Tab,{value:"gameInfo",className:o(s?r.tabItem_S:r.tabItem_B,"gameInfo"===t&&r.tabItemActive),onClick:c.ontabClickFast,children:"게임 정보"}),(0,n.jsx)(tu.m.Tab,{value:"gameNews",className:o(s?r.tabItem_S:r.tabItem_B,"gameNews"===t&&r.tabItemActive),onClick:c.ontabClickFast,children:"게임 소식"}),(0,n.jsx)(tu.m.Tab,{value:"review",className:o(s?r.tabItem_S:r.tabItem_B,"review"===t&&r.tabItemActive),onClick:c.ontabClickFast,children:"후기"}),(0,n.jsx)(tu.m.Tab,{value:"board",className:o(s?r.tabItem_S:r.tabItem_B,"board"===t&&r.tabItemActive),onClick:c.ontabClickFast,children:"게시판"})]})})}let tj=(0,s.k)(e=>({box:{display:"flex",flexWrap:"wrap",height:"100%",alignContent:"space-between",cursor:"default"},container:{width:"100%"},alignCenter:{display:"flex",alignItems:"center"},containerPadding:{padding:"1rem 0.3rem"},heartFilled:{marginRight:"0.2rem"},shortCutsGroup:{alignItems:"flex-start"},text:{maxWidth:"4rem",textAlign:"center",overflowWrap:"break-word"},marginTop:{position:"relative",marginTop:"0.55rem"},realPrice:{position:"absolute",bottom:"1.65rem"},percent:{padding:"0.1rem 0.2rem",backgroundColor:e.colors.pink[3],borderRadius:e.radius.sm},sellButton:{width:"10rem",height:"3.2rem",flexGrow:1},passButton:{width:"7rem",height:"3.2rem"}}));var tf=a(3946);function tv(e){var t,a,r,o,i,s,c,l,m,u,j,f,b,k,y,Z,C,N;let{postData:I,loading:T}=e,{classes:S,cx:B}=tj(),L=(0,z.rZ)(),[R,P]=(0,tf.v)({twiter:!0,Insta:!1,Face:!1,Youtube:!0,twitch:!0,Homepi:!0}),_=Object.values(R).filter(e=>!0===e).length,K=[];for(let e=0;e<_;e++)K.push((0,n.jsx)(d.x,{w:"4rem"},e));return(0,n.jsxs)(d.x,{className:S.box,children:[(0,n.jsx)(W.Z,{className:B(S.container,S.alignCenter),h:"7rem",children:(0,n.jsxs)(x.Z,{className:S.containerPadding,spacing:"sm",children:[(0,n.jsxs)(h.K,{spacing:"lg",children:[(0,n.jsx)(g.E,{className:S.heartFilled,width:"1.7rem",height:"1.5rem",src:"/images/HeartFilled.svg"}),(0,n.jsx)(g.E,{className:S.heartFilled,height:"1.5rem",src:"/Images/GamePad.svg"})]}),(0,n.jsxs)(h.K,{spacing:"1.8rem",children:[(0,n.jsxs)(x.Z,{spacing:0,children:[(0,n.jsx)(p.x,{fw:"bold",c:L.colors.gray[6],children:null==I?void 0:I.likeCount}),(0,n.jsx)(p.x,{c:L.colors.gray[6],children:"명의 사람들이 이 게임을 찜했습니다."})]}),(0,n.jsxs)(x.Z,{spacing:0,children:[(0,n.jsx)(p.x,{fw:"bold",children:"100"}),(0,n.jsx)(p.x,{children:"명의 사람들이 이 게임을 플레이 중입니다."})]})]})]})}),(0,n.jsx)(W.Z,{className:S.container,h:"12rem",children:(0,n.jsxs)(h.K,{className:S.containerPadding,spacing:"xl",children:[(0,n.jsx)(p.x,{fw:"bold",children:"개발사 SNS 바로가기"}),(0,n.jsxs)(x.Z,{className:S.shortCutsGroup,spacing:"2rem",position:"center",children:[R.twiter&&(0,n.jsxs)(h.K,{spacing:"sm",align:"center",children:[(0,n.jsx)(g.E,{width:"4rem",src:"/images/Twiter.svg"}),(0,n.jsx)(p.x,{className:S.text,component:"a",href:null==I?void 0:null===(t=I.store)||void 0===t?void 0:null===(a=t.snsUrls)||void 0===a?void 0:a.twitter,c:L.colors.gray[6],children:"Twitter"})]}),R.Insta&&(0,n.jsxs)(h.K,{spacing:"sm",align:"center",children:[(0,n.jsx)(g.E,{width:"4rem",src:"/images/Instagram.png"}),(0,n.jsx)(p.x,{component:"a",href:null==I?void 0:null===(r=I.store)||void 0===r?void 0:null===(o=r.snsUrls)||void 0===o?void 0:o.instagram,c:L.colors.gray[6],children:"Instagram"})]}),R.Face&&(0,n.jsxs)(h.K,{spacing:"sm",align:"center",children:[(0,n.jsx)(g.E,{width:"4rem",src:"/images/Facebook.svg"}),(0,n.jsx)(p.x,{component:"a",href:null===(i=null==I?void 0:I.store.snsUrls)||void 0===i?void 0:i.facebook,c:L.colors.gray[6],children:"Facebook"})]}),R.Youtube&&(0,n.jsxs)(h.K,{spacing:"sm",align:"center",children:[(0,n.jsx)(g.E,{width:"4rem",src:"/images/YouTube.png"}),(0,n.jsx)(p.x,{component:"a",href:null==I?void 0:null===(s=I.store)||void 0===s?void 0:null===(c=s.snsUrls)||void 0===c?void 0:c.youtube,c:L.colors.gray[6],children:"Youtube"})]}),R.twitch&&(0,n.jsxs)(h.K,{spacing:"sm",align:"center",children:[(0,n.jsx)(g.E,{width:"4rem",src:"/images/Twitch.svg"}),(0,n.jsx)(p.x,{component:"a",href:null==I?void 0:null===(l=I.store)||void 0===l?void 0:null===(m=l.snsUrls)||void 0===m?void 0:m.twitch,c:L.colors.gray[6],children:"Twitch"})]}),R.Homepi&&(0,n.jsxs)(h.K,{spacing:"sm",align:"center",children:[(0,n.jsx)(g.E,{width:"4rem",src:"/images/Homepage.svg"}),(0,n.jsx)(p.x,{component:"a",href:null==I?void 0:null===(u=I.store)||void 0===u?void 0:null===(j=u.snsUrls)||void 0===j?void 0:j.customPage,c:L.colors.gray[6],children:"홈페이지"})]}),(0,n.jsx)(n.Fragment,{children:K})]})]})}),!(null==I?void 0:I.isPlayable)&&(0,n.jsx)(W.Z,{className:S.container,h:"12rem",children:(0,n.jsxs)(h.K,{spacing:"sm",className:S.containerPadding,children:[(0,n.jsx)(p.x,{fw:"bold",children:"구매"}),(0,n.jsx)(p.x,{fz:22,fw:"bold",children:null==I?void 0:null===(f=I.store)||void 0===f?void 0:f.title}),(0,n.jsxs)(x.Z,{className:S.marginTop,spacing:"xs",position:"right",children:[(0,n.jsx)(d.x,{className:S.percent,children:(0,n.jsxs)(p.x,{fz:16,fw:"bold",children:["-",null==I?void 0:null===(b=I.store)||void 0===b?void 0:null===(k=b.cost)||void 0===k?void 0:k.salePercentage,"%"]})}),(0,n.jsxs)(p.x,{fz:26,fw:"bold",children:["￦ ",null==I?void 0:null===(y=I.store)||void 0===y?void 0:null===(Z=y.cost)||void 0===Z?void 0:Z.saledPrice]}),(0,n.jsxs)(p.x,{className:S.realPrice,fz:18,td:"line-through",c:L.colors.gray[6],children:["￦ ",null==I?void 0:null===(C=I.store)||void 0===C?void 0:null===(N=C.cost)||void 0===N?void 0:N.defaultPrice]})]}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(v.z,{className:S.sellButton,children:(0,n.jsx)(p.x,{fz:18,fw:"normal",children:"장바구니에 담기"})}),(0,n.jsx)(v.z,{className:S.passButton,variant:"outline",color:"dark",children:(0,n.jsxs)(h.K,{spacing:"0.2rem",children:[(0,n.jsx)(w.M,{children:(0,n.jsx)(p.x,{fz:24,children:"패스"})}),(0,n.jsx)(p.x,{fz:12,c:"gray",children:"무료로 플레이"})]})})]})]})}),(null==I?void 0:I.isPlayable)&&(0,n.jsx)(d.x,{className:S.container,h:"12rem",children:(0,n.jsx)(v.z,{className:S.sellButton,w:"100%",h:"3.7rem",radius:"lg",children:(0,n.jsxs)(h.K,{spacing:"xs",children:[(0,n.jsx)(w.M,{children:(0,n.jsx)(p.x,{fz:24,children:"게임 시작"})}),(0,n.jsx)(w.M,{children:(0,n.jsx)(p.x,{fz:12,fw:"normal",children:"마지막 플레이 2분 전"})})]})})})]})}let tw=(0,s.k)(e=>({all:{cursor:"default"},displayNone:{display:"none"},button:{borderRadius:e.radius.md,transition:"background-color 0.2s ease-in","&:hover":{backgroundColor:e.colors.blue[1]}},Icon:{transition:"transform 0.2s ease-in"},rotate:{transform:"rotate(45deg)",transition:"transform 0.2s ease-in"},marginTop:{marginTop:"3rem"}})),tb=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{gameNewsSection:{width:"100%",height:"100%",padding:"0.2rem 0.2rem",paddingRight:"1rem"},group:{flexWrap:"nowrap"},noImage:{display:"flex",minWidth:a?"6rem":"8rem",minHeight:a?"6rem":"8rem",borderRadius:e.radius.lg,backgroundColor:e.colors.gray[3],alignItems:"center",justifyContent:"center"},stack:{flexGrow:1,padding:"0.7rem 0rem 0.3rem"},newsTypo:{position:"relative",height:a?"2.5rem":"2.9rem",overflow:"hidden",lineHeight:1.2,"&::after":{content:'""',position:"absolute",bottom:0,left:0,width:"100%",height:"1.5rem",background:"linear-gradient(to bottom, rgba(256, 256, 256, 0), rgba(256, 256, 256, 1) 100%)"}},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}}}});var tk=a(1681),ty=a(9929);function tZ(e){let{post:t}=e,a=(0,i.a)("(max-width: 765px)"),{classes:o,cx:s}=tb({smallScreen:a}),c=(0,z.rZ)(),l=(0,ty.bu)(t.content)[0],m=""!=l,u=(0,r.useRouter)();return(0,n.jsx)(Z.Z,{onClick:()=>{u.push("/game/".concat(u.query.id,"?board=").concat(t.id),void 0,{scroll:!1})},children:(0,n.jsx)(W.Z,{className:o.gameNewsSection,bg:"white",children:(0,n.jsxs)(x.Z,{className:o.group,children:[m&&(0,n.jsx)(g.E,{fit:"cover",radius:"lg",width:a?"6rem":"8rem",height:a?"6rem":"8rem",src:l}),!m&&(0,n.jsx)(d.x,{className:o.noImage,children:(0,n.jsx)(tk.Z,{color:"gray"})}),(0,n.jsxs)(h.K,{className:o.stack,spacing:"xs",children:[(0,n.jsxs)(x.Z,{position:"apart",align:"flex-start",spacing:"xs",children:[(0,n.jsx)(p.x,{fz:a?14:18,fw:"bold",children:t.title}),(0,n.jsx)(p.x,{fz:a?12:14,c:c.colors.gray[4],children:(0,ex.n)(t.createdAt)})]}),(0,n.jsx)(J.l,{className:o.newsTypo,children:(0,n.jsx)("div",{className:o.content,dangerouslySetInnerHTML:{__html:t.content}})}),(0,n.jsxs)(x.Z,{spacing:"sm",children:[(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(et.Z,{stroke:1.5,size:a?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{fz:14,children:t.childCount})]}),(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(y.Z,{stroke:1.5,size:a?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{fz:14,children:t.likeCount})]}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(eq.Z,{stroke:1.5,size:a?"1rem":"1.5rem"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(eU.Z,{stroke:1.5,size:a?"1rem":"1.5rem"})})]})]})]})})})}var tC=a(1177);function tz(e){let{gameId:t}=e,a=(0,i.a)("(max-width: 765px)"),{classes:r,cx:o}=tw();(0,z.rZ)();let[s,c]=(0,tf.v)({notice:!1,update:!1,develop:!1}),l=(0,C.useContext)(t_),{data:d}=(0,e$.Z)(["공지사항"],t),{data:m}=(0,e$.Z)(["업데이트"],t),{data:u}=(0,e$.Z)(["개발일지"],t);return(0,n.jsxs)(h.K,{spacing:"xl",className:r.all,children:[(0,n.jsxs)(h.K,{spacing:"xl",className:o((s.update||s.develop)&&r.displayNone),children:[(0,n.jsxs)(x.Z,{spacing:"sm",children:[(0,n.jsx)(p.x,{fz:a?28:32,children:"공지사항"}),(0,n.jsx)(Z.Z,{className:r.button,onClick:()=>{c({notice:!s.notice}),l.ontabClick()},children:(0,n.jsx)(tC.Z,{className:o(r.Icon,s.notice&&r.rotate)})})]}),null==d?void 0:d.map(e=>e.data.data.map(e=>(0,n.jsx)(tZ,{post:e}))),(0,n.jsx)($.U,{in:s.notice,children:(0,n.jsx)(h.K,{spacing:"xl"})})]}),(0,n.jsxs)(h.K,{spacing:"xl",className:o((s.notice||s.develop)&&r.displayNone,!s.update&&r.marginTop),children:[(0,n.jsxs)(x.Z,{spacing:"sm",children:[(0,n.jsx)(p.x,{fz:a?28:32,children:"업데이트"}),(0,n.jsx)(Z.Z,{className:r.button,onClick:()=>{c({update:!s.update}),l.ontabClick()},children:(0,n.jsx)(tC.Z,{className:o(r.Icon,s.update&&r.rotate)})})]}),null==m?void 0:m.map(e=>e.data.data.map(e=>(0,n.jsx)(tZ,{post:e}))),(0,n.jsx)($.U,{in:s.update,children:(0,n.jsx)(h.K,{spacing:"xl"})})]}),(0,n.jsxs)(h.K,{spacing:"xl",className:o((s.notice||s.update)&&r.displayNone,!s.develop&&r.marginTop),children:[(0,n.jsxs)(x.Z,{spacing:"sm",children:[(0,n.jsx)(p.x,{fz:a?28:32,children:"개발 일지"}),(0,n.jsx)(Z.Z,{className:r.button,onClick:()=>{c({develop:!s.develop}),l.ontabClick()},children:(0,n.jsx)(tC.Z,{className:o(r.Icon,s.develop&&r.rotate)})})]}),null==u?void 0:u.map(e=>e.data.data.map(e=>(0,n.jsx)(tZ,{post:e}))),(0,n.jsx)($.U,{in:s.develop,children:(0,n.jsx)(h.K,{spacing:"xl"})})]})]})}let tN=(0,s.k)(e=>({all:{cursor:"default"},infoSection:{width:"100%",height:"100%",padding:"2rem 1.5rem"},infoTypo:{lineHeight:1.2},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}},marginTop:{marginTop:"3rem"}}));function tI(e){var t,a;let{postData:r,loading:o}=e,s=(0,i.a)("(max-width: 765px)"),{classes:c,cx:l}=tN();return(0,n.jsxs)(h.K,{spacing:"xl",className:c.all,children:[(0,n.jsx)(p.x,{fz:s?28:32,children:"게임 정보"}),(0,n.jsx)(W.Z,{className:c.infoSection,bg:"white",children:(0,n.jsx)(J.l,{className:c.infoTypo,children:(0,n.jsx)("div",{className:c.content,dangerouslySetInnerHTML:{__html:(null==r?void 0:null===(t=r.information)||void 0===t?void 0:t.description)||""}})})}),(0,n.jsx)(p.x,{fz:s?28:32,className:c.marginTop,children:"게임 사양"}),(0,n.jsx)(W.Z,{className:c.infoSection,children:(0,n.jsx)(J.l,{className:c.infoTypo,children:(0,n.jsx)("div",{className:c.content,dangerouslySetInnerHTML:{__html:(null==r?void 0:null===(a=r.information)||void 0===a?void 0:a.specification)||""}})})})]})}let tT=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{modal:{".mantine-Modal-header":{alignItems:"flex-start"},".mantine-Modal-close":{marginRight:"0.5rem"}},modalTitle:{marginTop:"0.2rem",marginLeft:"0.5rem"},all:{cursor:"default"},boardSection:{width:"100%",height:"100%",padding:"2rem 1rem"},stack:{padding:a?"0rem 0.5rem":"0rem 1rem"},selectGroup:{marginTop:"1rem"},writeButton:{height:"2.25rem",paddingLeft:"0.7rem",paddingRight:"0.7rem",borderRadius:"15px",backgroundColor:e.colors.blue[5]},Search:{height:"2rem",flexGrow:1,".mantine-TextInput-wrapper":{borderRadius:"15px",border:"none",backgroundColor:"#F3F3F3"},".mantine-TextInput-input":{border:"none",backgroundColor:"transparent"}}}}),tS=(0,s.k)((e,t)=>{let{smallScreen:a}=t;return{stack:{margin:"1rem 1.5rem",marginBottom:"0.1rem"},group:{marginLeft:a?"0.7rem":"1rem",flexWrap:"nowrap"},boardStack:{flexGrow:1,padding:"0.7rem 0rem 0.3rem"},noImage:{display:"flex",minWidth:a?"6rem":"8rem",minHeight:a?"6rem":"8rem",borderRadius:e.radius.lg,backgroundColor:e.colors.gray[3],alignItems:"center",justifyContent:"center"},newsTypo:{position:"relative",height:a?"2.5rem":"4.5rem",overflow:"hidden",lineHeight:1.2,"&::after":{content:'""',position:"absolute",bottom:0,left:0,width:"100%",height:"1.5rem",background:"linear-gradient(to bottom, rgba(256, 256, 256, 0), rgba(256, 256, 256, 1) 100%)"}},content:{lineHeight:1.5,"*":{marginBottom:"0px !important"}},footerGroup:{marginTop:"0.5rem"}}});function tB(e){let{post:t,gameId:a}=e,o=(0,i.a)("(max-width: 765px)"),{classes:s,cx:c}=tS({smallScreen:o}),l=(0,z.rZ)(),d=(0,r.useRouter)(),m=(0,ty.bu)(t.content)[0];return(0,n.jsxs)(es.k,{onClick:()=>{d.push("/game/".concat(a,"?board=").concat(t.id),void 0,{scroll:!1})},children:[(0,n.jsx)(f.i,{}),(0,n.jsxs)(h.K,{className:s.stack,spacing:0,children:[(0,n.jsxs)(x.Z,{position:"apart",children:[(0,n.jsxs)(x.Z,{spacing:"sm",children:[(0,n.jsx)(u.q,{radius:"xl",size:o?20:30,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsx)(p.x,{fz:o?12:14,children:t.author.name})]}),(0,n.jsx)(p.x,{fz:o?12:14,color:l.colors.gray[4],children:(0,ex.n)(t.createdAt)})]}),(0,n.jsxs)(x.Z,{className:s.group,children:[(0,n.jsxs)(h.K,{className:s.boardStack,spacing:"xs",children:[(0,n.jsx)(x.Z,{spacing:"xs",children:(0,n.jsx)(p.x,{fz:o?14:18,fw:"bold",children:t.title})}),(0,n.jsx)(J.l,{className:s.newsTypo,children:(0,n.jsx)("div",{className:s.content,dangerouslySetInnerHTML:{__html:t.content}})}),(0,n.jsxs)(x.Z,{className:s.footerGroup,spacing:"sm",children:[(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(et.Z,{stroke:1.5,size:o?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{fz:14,children:t.childCount})]}),(0,n.jsxs)(x.Z,{spacing:"0.3rem",children:[(0,n.jsx)(y.Z,{stroke:1.5,size:o?"1rem":"1.5rem"}),(0,n.jsx)(p.x,{fz:14,children:t.likeCount})]}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(eq.Z,{stroke:1.5,size:o?"1rem":"1.5rem"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(eU.Z,{stroke:1.5,size:o?"1rem":"1.5rem"})})]})]}),""!=m&&(0,n.jsx)(g.E,{fit:"cover",radius:"lg",width:o?"6rem":"8rem",height:o?"6rem":"8rem",src:m})]})]})]})}function tL(e){var t;let{gameName:a,developerName:o,gameId:s}=e,c=(0,i.a)("(max-width: 765px)"),{classes:l,cx:d}=tT({smallScreen:c}),g=(0,z.rZ)(),[j,f]=(0,C.useState)("전체 보기"),[v,w]=(0,C.useState)("최신순"),[k,{open:y,close:I}]=(0,b.q)(!1),[T,L]=(0,C.useState)(""),{data:R,isLoading:_,setSize:K,mutate:G,isLast:H,isEmpty:A}=(0,e$.Z)("전체 보기"===j?e0.XF:[j],s,{search:T,boardType:"parent"}),E=(0,r.useRouter)(),M=null===(t=E.query.board)||void 0===t?void 0:t.toString(),{user:D,openSignInModal:F}=(0,P.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.u,{className:l.modal,opened:k,onClose:I,size:"auto",radius:"lg",centered:!0,title:(0,n.jsxs)(x.Z,{className:l.modalTitle,children:[(0,n.jsx)(u.q,{radius:"xl",size:c?30:46,src:"https://avatars.githubusercontent.com/u/52057157?v=4"}),(0,n.jsxs)(h.K,{spacing:"0.4rem",children:[(0,n.jsx)(p.x,{fz:c?14:18,children:null==D?void 0:D.name}),(0,n.jsx)(p.x,{fz:c?12:14,color:g.colors.gray[5],children:null==D?void 0:D.description})]})]}),children:(0,n.jsx)(te,{opened:!0,close:()=>{I(),G()},gameId:s})}),M?(0,n.jsx)(ta,{boardId:M,gameId:s}):(0,n.jsxs)(h.K,{spacing:"xl",className:l.all,children:[(0,n.jsx)(p.x,{fz:c?28:32,children:"게시판"}),(0,n.jsx)(W.Z,{className:l.boardSection,bg:"white",children:(0,n.jsxs)(h.K,{className:l.stack,children:[(0,n.jsxs)(h.K,{spacing:"0.3rem",children:[(0,n.jsx)(eE.D,{order:c?2:1,children:a}),(0,n.jsx)(p.x,{fz:c?14:18,fw:"bold",color:g.colors.gray[5],children:o})]}),(0,n.jsxs)(x.Z,{className:l.selectGroup,position:"apart",children:[(0,n.jsx)(e8,{data:["전체 보기",...e0.XF],defaultValue:j,onChange:e=>{f(e)}}),(0,n.jsx)(e8,{data:["최신순","조회순","인기순","댓글순"],defaultValue:v,onChange:e=>{w(e)}})]}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(N.o,{className:l.Search,icon:(0,n.jsx)(B.Z,{size:"1rem",color:"black"}),rightSection:(0,n.jsx)(Z.Z,{children:(0,n.jsx)(S.Z,{onClick:()=>{},size:"1rem",stroke:"0.15rem",color:"#bdc3cd"})}),placeholder:"원하는 글을 검색해보세요.",value:T,onChange:e=>{L(e.currentTarget.value)}}),(0,n.jsx)(Z.Z,{className:l.writeButton,onClick:D?y:F,children:(0,n.jsxs)(x.Z,{spacing:"0.2rem",children:[(0,n.jsx)(ed.Z,{size:c?"1rem":"1.4rem",stroke:1.5,color:"white"}),(0,n.jsx)(p.x,{fz:c?12:14,fw:"normal",color:"white",children:"글쓰기"})]})})]}),A?(0,n.jsx)(p.x,{color:g.colors.gray[4],children:"작성된 게시글이 없습니다."}):null==R?void 0:R.map(e=>e.data.data.map(e=>(0,n.jsx)(tB,{post:e,gameId:s},e.id))),!H&&(0,n.jsx)(Z.Z,{onClick:()=>{K(e=>e+1)},children:(0,n.jsx)(p.x,{fz:16,color:g.colors.gray[5],children:"게시글 더 보기"})})]})})]})]})}var tR=a(3395);let tP=(0,C.createContext)({mutatePost:()=>{}}),t_=(0,C.createContext)({ontabClick:()=>{},ontabClickFast:()=>{}});var tK=function(){var e,t;let a=(0,r.useRouter)(),i=a.query.id?a.query.id.toString():void 0,s=null===(e=a.query.board)||void 0===e?void 0:e.toString(),[c,d]=(0,C.useState)("gameInfo"),m=(0,C.useRef)(null),{data:h,mutate:x}=(0,tR.Z)(i);return(0,C.useEffect)(()=>{s&&d("board")},[s]),(0,n.jsx)(tP.Provider,{value:{mutatePost:x},children:(0,n.jsx)(t_.Provider,{value:{ontabClick:()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})},ontabClickFast:()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"instant",block:"nearest"})}},children:h&&(0,n.jsxs)(l,{photoSection:(0,n.jsx)(o.m,{isInfo:!0,imgUrls:null===(t=h.data.store)||void 0===t?void 0:t.imgUrls}),summarySection:(0,n.jsx)(tx,{postData:h.data}),anchorSection:(0,n.jsx)("div",{ref:m}),tabSection:(0,n.jsx)(tg,{activeTab:c,setActiveTab:d}),rightSection:(0,n.jsx)(tv,{postData:h.data}),children:["gameInfo"===c&&(0,n.jsx)(tI,{postData:h.data}),"gameNews"===c&&i&&(0,n.jsx)(tz,{gameId:i}),"review"===c&&i&&(0,n.jsx)(ts,{gameId:i}),"board"===c&&h&&(0,n.jsx)(tL,{gameName:h.data.store.title,developerName:h.data.author.name,gameId:h.data.id})]})})})}},9929:function(e,t,a){"use strict";function n(e){let t=new DOMParser,a=t.parseFromString(e,"text/html"),n=a.getElementsByTagName("img"),r=[];if(0==n.length)return[""];for(let e=0;e<n.length;e++){let t=n[e].getAttribute("src");if(t){let e=decodeURI(t);r.push(e)}}return r}function r(e){if(""!=n(e.content)[0])return n(e.content)[0]}function o(e){return e.replace(/<img\b[^>]*>/gi,"")}a.d(t,{Z7:function(){return r},ab:function(){return o},bu:function(){return n}})},4906:function(e,t,a){"use strict";function n(e){let t=new Date,a=t.getTime()-new Date(e).getTime()-324e5,n=Math.floor(a/1e3),r=Math.floor(n/60),o=Math.floor(r/60),i=Math.floor(o/24),s=Math.floor(i/30);return n<5?"방금 전":n<60?"".concat(n,"초 전"):r<60?"".concat(r,"분 전"):o<24?"".concat(o,"시간 전"):i<30?"".concat(i,"일 전"):s<12?"".concat(s,"달 전"):"".concat(Math.floor(s/12),"년 전")}a.d(t,{n:function(){return n}})}},function(e){e.O(0,[911,723,411,499,180,448,774,888,179],function(){return e(e.s=9787)}),_N_E=e.O()}]);